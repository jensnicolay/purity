******************** Server experiments
fac          CFA  #96      flow-time 22      called 1   pure 1  obs 0  proc 0  | 40320
fac          FA   #25      flow-time 6       called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fac          LA   #25      flow-time 5       called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fac          LSF  #25      flow-time 5       called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib          CFA  #701     flow-time 158     called 1   pure 1  obs 0  proc 0  | 21
fib          FA   #83      flow-time 75      called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib          LA   #67      flow-time 36      called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib          LSF  #67      flow-time 35      called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib-mut      CFA  #188     flow-time 39      called 2   pure 1  obs 0  proc 1  | 21
fib-mut      FA   #51      flow-time 19      called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut      LA   #51      flow-time 14      called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut      LSF  #51      flow-time 14      called 2   pure 1  obs 0  proc 1  | #<set: NUM>
blur         CFA  #43      flow-time 8       called 3   pure 3  obs 0  proc 0  | #t
blur         FA   #73      flow-time 34      called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
blur         LA   #69      flow-time 34      called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
blur         LSF  #69      flow-time 28      called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
eta          CFA  #26      flow-time 2       called 4   pure 4  obs 0  proc 0  | #f
eta          FA   #26      flow-time 3       called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
eta          LA   #30      flow-time 4       called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
eta          LSF  #30      flow-time 4       called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
mj09         CFA  #29      flow-time 3       called 4   pure 4  obs 0  proc 0  | 2
mj09         FA   #26      flow-time 8       called 4   pure 4  obs 0  proc 0  | #<set: NUM>
mj09         LA   #19      flow-time 4       called 4   pure 4  obs 0  proc 0  | #<set: NUM>
mj09         LSF  #19      flow-time 3       called 4   pure 4  obs 0  proc 0  | #<set: NUM>
gcipd        CFA  #91      flow-time 23      called 3   pure 3  obs 0  proc 0  | 36
gcipd        FA   #67      flow-time 35      called 3   pure 3  obs 0  proc 0  | #<set: NUM>
gcipd        LA   #67      flow-time 26      called 3   pure 3  obs 0  proc 0  | #<set: NUM>
gcipd        LSF  #67      flow-time 25      called 3   pure 3  obs 0  proc 0  | #<set: NUM>
kcfa2        CFA  #41      flow-time 3       called 3   pure 3  obs 0  proc 0  | #f
kcfa2        FA   #37      flow-time 8       called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
kcfa2        LA   #33      flow-time 7       called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
kcfa2        LSF  #33      flow-time 5       called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
kcfa3        CFA  #61      flow-time 5       called 4   pure 4  obs 0  proc 0  | #f
kcfa3        FA   #61      flow-time 9       called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
kcfa3        LA   #61      flow-time 6       called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
kcfa3        LSF  #61      flow-time 6       called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
rotate       CFA  #336     flow-time 49      called 1   pure 1  obs 0  proc 0  | hallo
rotate       FA   #41      flow-time 10      called 1   pure 1  obs 0  proc 0  | #<set: NUM STR BOOL>
rotate       LA   #32      flow-time 5       called 1   pure 1  obs 0  proc 0  | #<set: NUM STR BOOL>
rotate       LSF  #32      flow-time 5       called 1   pure 1  obs 0  proc 0  | #<set: NUM STR BOOL>
loop2        CFA  #1348    flow-time 307     called 3   pure 3  obs 0  proc 0  | 550
loop2        FA   #47      flow-time 37      called 3   pure 3  obs 0  proc 0  | #<set: NUM>
loop2        LA   #47      flow-time 33      called 3   pure 3  obs 0  proc 0  | #<set: NUM>
loop2        LSF  #26      flow-time 11      called 3   pure 3  obs 0  proc 0  | #<set: NUM>
sat          CFA  #77      flow-time 17      called 7   pure 7  obs 0  proc 0  | #t
sat          FA   #250     flow-time 811     called 7   pure 7  obs 0  proc 0  | #<set: BOOL>
sat          LA   #227     flow-time 421     called 7   pure 7  obs 0  proc 0  | #<set: BOOL>
sat          LSF  #176     flow-time 105     called 7   pure 7  obs 0  proc 0  | #<set: BOOL>
collatz      CFA  #777     flow-time 292     called 5   pure 5  obs 0  proc 0  | 5
collatz      FA   #464     flow-time 1291    called 5   pure 5  obs 0  proc 0  | #<set: NUM>
collatz      LA   #436     flow-time 707     called 5   pure 5  obs 0  proc 0  | #<set: NUM>
collatz      LSF  #436     flow-time 773     called 5   pure 5  obs 0  proc 0  | #<set: NUM>
rsa          CFA  #512     flow-time 518     called 9   pure 9  obs 0  proc 0  | #t
rsa          FA   #429     flow-time 2254    called 9   pure 9  obs 0  proc 0  | #<set: BOOL>
rsa          LA   #377     flow-time 1362    called 9   pure 9  obs 0  proc 0  | #<set: BOOL>
rsa          LSF  #377     flow-time 932     called 9   pure 9  obs 0  proc 0  | #<set: BOOL>
primtest     CFA  #738     flow-time 430     called 4   pure 4  obs 0  proc 0  | 1
primtest     FA   #304     flow-time 1542    called 5   pure 5  obs 0  proc 0  | #<set: NUM>
primtest     LA   #278     flow-time 852     called 5   pure 5  obs 0  proc 0  | #<set: NUM>
primtest     LSF  #230     flow-time 639     called 5   pure 5  obs 0  proc 0  | #<set: NUM>
factor       CFA  #117     flow-time 39      called 7   pure 7  obs 0  proc 0  | #(struct:addr 107)
factor       FA   #468     flow-time 802     called 7   pure 7  obs 0  proc 0  | #<set: () #(struct:addr %cons)>
factor       LA   #441     flow-time 325     called 7   pure 7  obs 0  proc 0  | #<set: () #(struct:addr %cons)>
factor       LSF  #301     flow-time 127     called 7   pure 7  obs 0  proc 0  | #<set: () #(struct:addr %cons)>
nqueens      CFA  #2622    flow-time 2138    called 6   pure 6  obs 0  proc 0  | 2
nqueens      FA   #3979    flow-time 49825   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens      LA   #3060    flow-time 3790    called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens      LSF  #2304    flow-time 3112    called 6   pure 6  obs 0  proc 0  | #<set: NUM>
dderiv       CFA  #2846    flow-time 5226    called 10  pure 9  obs 0  proc 1  | #t
dderiv       FA   #12169   flow-time 102300  called 10  pure 5  obs 4  proc 1  | #<set: BOOL>
dderiv       LA   #12109   flow-time 42561   called 10  pure 5  obs 4  proc 1  | #<set: BOOL>
dderiv       LSF  #10151   flow-time 15516   called 10  pure 7  obs 2  proc 1  | #<set: BOOL>
destruct     CFA  #>1743000 flow-time 3600670 called 0   pure 0  obs 0  proc 0  | time out
destruct     FA   #7100    flow-time 243488  called 10  pure 3  obs 0  proc 7  | #<set: SYM>
destruct     LA   #7499    flow-time 6844    called 10  pure 3  obs 0  proc 7  | #<set: SYM>
destruct     LSF  #5392    flow-time 4553    called 10  pure 1  obs 1  proc 8  | #<set: SYM>

fac          states 25      ctxs 2       time 6       | #<set: NUM>
fib          states 83      ctxs 5       time 57      | #<set: NUM>
fib-mut      states 51      ctxs 3       time 11      | #<set: NUM>
blur         states 73      ctxs 14      time 647     | #<set: BOOL>
eta          states 26      ctxs 6       time 2       | #<set: BOOL>
mj09         states 26      ctxs 6       time 15      | #<set: NUM>
gcipd        states 67      ctxs 6       time 27      | #<set: NUM>
kcfa2        states 37      ctxs 12      time 4       | #<set: BOOL>
kcfa3        states 61      ctxs 22      time 6       | #<set: BOOL>
rotate       states 41      ctxs 4       time 7       | #<set: NUM STR BOOL>
loop2        states 47      ctxs 5       time 25      | #<set: NUM>
sat          states 250     ctxs 65      time 1727    | #<set: BOOL>
collatz      states 464     ctxs 26      time 747     | #<set: NUM>
rsa          states 429     ctxs 28      time 1598    | #<set: BOOL>
primtest     states 304     ctxs 14      time 947     | #<set: NUM>
factor       states 468     ctxs 26      time 500     | #<set: () #(struct:addr %cons)>
nqueens      states 3979    ctxs 110     time 41303   | #<set: NUM>

**** server
fac          states 14      time 3       | #<set: NUM>
fib          states 19      time 1       | #<set: NUM>
fib-mut      states 29      time 2       | #<set: NUM>
blur         states 32      time 4       | #<set: BOOL>
eta          states 21      time 2       | #<set: BOOL>
mj09         states 19      time 1       | #<set: NUM>
gcipd        states 41      time 4       | #<set: NUM>
kcfa2        states 15      time 0       | #<set: BOOL>
kcfa3        states 17      time 1       | #<set: BOOL>
rotate       states 16      time 2       | #<set: NUM STR BOOL>
loop2        states 26      time 2       | #<set: NUM>
sat          states 36      time 17      | #<set: BOOL>
collatz      states 76      time 5       | #<set: NUM>
rsa          states 136     time 26      | #<set: BOOL>
primtest     states 146     time 14      | #<set: NUM>
factor       states 93      time 45      | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 125     time 59      | #<set: NUM>
dderiv       states 339     time 856     | #<set: BOOL>
boyer        states 5409    time 21765789 | #<set: BOOL>
mceval       states 992     time 26525   | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct

fac          states 14      time 2       | #<set: NUM>
fib          states 19      time 0       | #<set: NUM>
fib-mut      states 29      time 1       | #<set: NUM>
blur         states 32      time 5       | #<set: BOOL>
eta          states 21      time 1       | #<set: BOOL>
mj09         states 19      time 1       | #<set: NUM>
gcipd        states 41      time 2       | #<set: NUM>
kcfa2        states 15      time 0       | #<set: BOOL>
kcfa3        states 17      time 1       | #<set: BOOL>
rotate       states 16      time 1       | #<set: NUM STR BOOL>
loop2        states 26      time 2       | #<set: NUM>
sat          states 36      time 2       | #<set: BOOL>
collatz      states 76      time 4       | #<set: NUM>
rsa          states 136     time 18      | #<set: BOOL>
primtest     states 146     time 9       | #<set: NUM>
factor       states 91      time 15      | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 129     time 61      | #<set: NUM>
dderiv       states 343     time 1517    | #<set: BOOL>
mceval       states 1097    time 38628   | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct





(print-purity-info (address-purity-analysis (type-mach-0 dderiv)))
(lambda (f l) (let ((_p0 (pair -> #<set: OBS>
(lambda (_key1 _table2) (letre -> #<set: OBS>
(lambda (_x4) (let ((_p32 (nul -> #<set: OBS>
(lambda (_key18 _key29) (let ( -> #<set: OBS>
(lambda (_key113 _key214 _val1 -> #<set: GEN OBS>
(lambda (_a19) (let ((_p45 (pa -> #<set: OBS>
(lambda (_a22) (let ((_p49 (cd -> #<set: OBS>
(lambda (_a24) (let ((_p51 (cd -> #<set: OBS>
(lambda (_a26) (let ((_p56 (cd -> #<set: OBS>
(lambda (_a27) (let ((_p53 (_d -> #<set: OBS>
(lambda (_a29) (let ((_p61 (ca -> #<set: OBS>
> (print-purity-info (address-purity-analysis (conc-mach dderiv)))
(lambda (_key113 _key214 _val1 -> #<set: GEN OBS>
> (print-purity-info (address-purity-analysis (conc-mach destruct)))
(lambda (l) (let ((_p0 (null?  -> #<set: OBS>
(lambda (_x8 _y9) (let ((_p38  -> #<set: GEN OBS>
(lambda (_a11 _b12) (let ((_p3 -> #<set: GEN>
(lambda (_i21) (let ((_p46 (=  -> #<set: GEN OBS>
(lambda (_l23) (let ((_p49 (nu -> #<set: GEN OBS>
(lambda (_l128 _l229) (let ((_ -> #<set: GEN OBS>
(lambda (_j31 _a32) (let ((_p6 -> #<set: GEN OBS>
(lambda (_j35 _a36) (let ((_p7 -> #<set: GEN>
>  (print-purity-info (address-purity-analysis (conc-mach mceval)))
(lambda (_frame111) (car _fram -> #<set: OBS>
(lambda (_frame113) (cdr _fram -> #<set: OBS>
(lambda (_var115 _val116 _fram -> #<set: GEN OBS>
(lambda (_var142 _val143 _env1 -> #<set: GEN OBS>
(lambda (_vars147 _vals148) (l -> #<set: GEN OBS>



****server
fac          states 26      time 3       | #<set: NUM>
fib          states 55      time 3       | #<set: NUM>
fib-mut      states 52      time 3       | #<set: NUM>
blur         states 71      time 7       | #<set: BOOL>
eta          states 30      time 1       | #<set: BOOL>
mj09         states 28      time 1       | #<set: NUM>
gcipd        states 81      time 4       | #<set: NUM>
kcfa2        states 30      time 1       | #<set: BOOL>
kcfa3        states 32      time 2       | #<set: BOOL>
rotate       states 24      time 1       | #<set: NUM STR BOOL>
loop2        states 48      time 3       | #<set: NUM>
sat          states 56      time 12      | #<set: BOOL>
collatz      states 181     time 11      | #<set: NUM>
rsa          states 269     time 37      | #<set: BOOL>
primtest     states 254     time 25      | #<set: NUM>
factor       states 182     time 37      | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 285     time 70      | #<set: NUM>
dderiv       states 820     time 2732    | #<set: BOOL>
mceval       states 3793    time 911187  | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
boyer        states 4635    time 2928045 | #<set: BOOL>


fac          states 14      time 2       | #<set: NUM>
fib          states 19      time 2       | #<set: NUM>
fib-mut      states 29      time 2       | #<set: NUM>
blur         states 32      time 4       | #<set: BOOL>
eta          states 21      time 2       | #<set: BOOL>
mj09         states 19      time 0       | #<set: NUM>
gcipd        states 41      time 5       | #<set: NUM>
kcfa2        states 15      time 1       | #<set: BOOL>
kcfa3        states 17      time 1       | #<set: BOOL>
rotate       states 16      time 1       | #<set: NUM STR BOOL>
loop2        states 26      time 3       | #<set: NUM>
sat          states 36      time 3       | #<set: BOOL>
collatz      states 76      time 11      | #<set: NUM>
rsa          states 136     time 18      | #<set: BOOL>
primtest     states 146     time 25      | #<set: NUM>
factor       states 92      time 17      | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 126     time 100     | #<set: NUM>


**** server
fac            conc fa   #96      flow-time 5       lams 1   called 1   pure 1  obs 0  proc 0  | 40320
fac            type fa   #14      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            conc fa   #701     flow-time 19      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            type fa   #19      flow-time 2       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib-mut        conc fa   #188     flow-time 7       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        type fa   #29      flow-time 3       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
blur           conc fa   #43      flow-time 1       lams 3   called 3   pure 3  obs 0  proc 0  | #t
blur           type fa   #32      flow-time 5       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
eta            conc fa   #26      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #f
eta            type fa   #21      flow-time 2       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
mj09           conc fa   #29      flow-time 0       lams 4   called 4   pure 4  obs 0  proc 0  | 2
mj09           type fa   #19      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: NUM>
gcipd          conc fa   #91      flow-time 3       lams 3   called 3   pure 3  obs 0  proc 0  | 36
gcipd          type fa   #41      flow-time 5       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
kcfa2          conc fa   #41      flow-time 1       lams 3   called 3   pure 3  obs 0  proc 0  | #f
kcfa2          type fa   #15      flow-time 2       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
kcfa3          conc fa   #61      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #f
kcfa3          type fa   #17      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
rotate         conc fa   #336     flow-time 10      lams 1   called 1   pure 1  obs 0  proc 0  | hallo
rotate         type fa   #16      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM STR BOOL>
loop2          conc fa   #1348    flow-time 49      lams 3   called 3   pure 3  obs 0  proc 0  | 550
loop2          type fa   #26      flow-time 5       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
sat            conc fa   #77      flow-time 2       lams 7   called 7   pure 7  obs 0  proc 0  | #t
sat            type fa   #36      flow-time 3       lams 7   called 7   pure 7  obs 0  proc 0  | #<set: BOOL>
collatz        conc fa   #777     flow-time 26      lams 5   called 5   pure 5  obs 0  proc 0  | 5
collatz        type fa   #76      flow-time 12      lams 5   called 5   pure 5  obs 0  proc 0  | #<set: NUM>
rsa            conc fa   #512     flow-time 30      lams 9   called 9   pure 9  obs 0  proc 0  | #t
rsa            type fa   #136     flow-time 44      lams 9   called 9   pure 9  obs 0  proc 0  | #<set: BOOL>
primtest       conc fa   #738     flow-time 43      lams 5   called 4   pure 4  obs 0  proc 0  | 1
primtest       type fa   #146     flow-time 45      lams 5   called 5   pure 5  obs 0  proc 0  | #<set: NUM>
factor         conc fa   #117     flow-time 6       lams 7   called 7   pure 7  obs 0  proc 0  | #(struct:addr 116)
factor         type fa   #92      flow-time 27      lams 7   called 7   pure 7  obs 0  proc 0  | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens        conc fa   #2622    flow-time 127     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        type fa   #125     flow-time 65      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
dderiv         conc fa   #2846    flow-time 146     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         type fa   #355     flow-time 1446    lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
destruct       conc fa   #2251    flow-time 137     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 124)
destruct       type fa   #226     flow-time 186     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
mceval         conc fa   #306836  flow-time 48482   lams 86  called 71  pure 59 obs 2  proc 10 | 55
mceval         type fa   #1238    flow-time 195160  lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct


***** server global store in state
fac          states 24      time 12      | #<set: NUM>
fib          states 52      time 22      | #<set: NUM>
fib-mut      states 58      time 24      | #<set: NUM>
blur         states 89      time 41      | #<set: BOOL>
eta          states 41      time 21      | #<set: BOOL>
mj09         states 45      time 17      | #<set: NUM>
gcipd        states 137     time 70      | #<set: NUM>
kcfa2        states 35      time 13      | #<set: BOOL>
kcfa3        states 40      time 15      | #<set: BOOL>
rotate       states 32      time 11      | #<set: NUM STR BOOL>
loop2        states 60      time 26      | #<set: NUM>
sat          states 108     time 61      | #<set: BOOL>
collatz      states 343     time 188     | #<set: NUM>
rsa          states 440     time 446     | #<set: BOOL>
primtest     states 764     time 603     | #<set: NUM>
factor       states 295     time 224     | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 797     time 683     | #<set: NUM>
dderiv       states 4706    time 32816   | #<set: BOOL>
mceval       states 29515   time 2057656 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
boyer        states >20000  time 4818299 | time out

**** server global store timest in state (also +1 on adding new address)
fac          states 31      time 4       | #<set: NUM>
fib          states 61      time 3       | #<set: NUM>
fib-mut      states 58      time 3       | #<set: NUM>
blur         states 93      time 7       | #<set: BOOL>
eta          states 41      time 2       | #<set: BOOL>
mj09         states 48      time 2       | #<set: NUM>
gcipd        states 91      time 7       | #<set: NUM>
kcfa2        states 34      time 1       | #<set: BOOL>
kcfa3        states 41      time 2       | #<set: BOOL>
rotate       states 32      time 2       | #<set: NUM STR BOOL>
loop2        states 59      time 4       | #<set: NUM>
sat          states 104     time 8       | #<set: BOOL>
collatz      states 222     time 16      | #<set: NUM>
rsa          states 513     time 65      | #<set: BOOL>
primtest     states 744     time 78      | #<set: NUM>
factor       states 237     time 24      | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 758     time 76      | #<set: NUM>
dderiv       states 4802    time 827     | #<set: BOOL>
mceval       states 83888   time 200316  | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct


**** server global store ts in state no +1 on new a
fac          states 14      time 3       | #<set: NUM>
fib          states 19      time 3       | #<set: NUM>
fib-mut      states 29      time 3       | #<set: NUM>
blur         states 55      time 6       | #<set: BOOL>
eta          states 39      time 2       | #<set: BOOL>
mj09         states 19      time 1       | #<set: NUM>
gcipd        states 60      time 7       | #<set: NUM>
kcfa2        states 15      time 2       | #<set: BOOL>
kcfa3        states 17      time 2       | #<set: BOOL>
rotate       states 32      time 2       | #<set: NUM STR BOOL>
loop2        states 33      time 4       | #<set: NUM>
sat          states 48      time 5       | #<set: BOOL>
collatz      states 76      time 15      | #<set: NUM>
rsa          states 208     time 48      | #<set: BOOL>
primtest     states 146     time 31      | #<set: NUM>
factor       states 234     time 24      | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 629     time 69      | #<set: NUM>
dderiv       states 4066    time 812     | #<set: BOOL>
mceval       states 86121   time 211640  | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct


**** server store and kstore ts in state with always +1 (but not keeping intermediate stores)
fac          states 25      time 3       | #<set: NUM>
fib          states 44      time 2       | #<set: NUM>
fib-mut      states 51      time 3       | #<set: NUM>
blur         states 88      time 5       | #<set: BOOL>
eta          states 57      time 2       | #<set: BOOL>
mj09         states 33      time 1       | #<set: NUM>
gcipd        states 111     time 5       | #<set: NUM>
kcfa2        states 38      time 1       | #<set: BOOL>
kcfa3        states 44      time 2       | #<set: BOOL>
rotate       states 32      time 2       | #<set: NUM STR BOOL>
loop2        states 51      time 3       | #<set: NUM>
sat          states 81      time 5       | #<set: BOOL>
collatz      states 209     time 13      | #<set: NUM>
rsa          states 391     time 47      | #<set: BOOL>
primtest     states 334     time 30      | #<set: NUM>
factor       states 265     time 26      | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 762     time 78      | #<set: NUM>
dderiv       states 4567    time 788     | #<set: BOOL>
mceval       states 51354   time 37638   | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct

**** server store and kstore ts in state with always +1 and keeping intermediate stores
fac          states 31      time 3       | #<set: NUM>
fib          states 51      time 3       | #<set: NUM>
fib-mut      states 58      time 3       | #<set: NUM>
blur         states 109     time 6       | #<set: BOOL>
eta          states 46      time 1       | #<set: BOOL>
mj09         states 46      time 2       | #<set: NUM>
gcipd        states 179     time 9       | #<set: NUM>
kcfa2        states 38      time 2       | #<set: BOOL>
kcfa3        states 52      time 2       | #<set: BOOL>
rotate       states 32      time 2       | #<set: NUM STR BOOL>
loop2        states 60      time 4       | #<set: NUM>
sat          states 106     time 6       | #<set: BOOL>
collatz      states 245     time 15      | #<set: NUM>
rsa          states 490     time 55      | #<set: BOOL>
primtest     states 536     time 51      | #<set: NUM>
factor       states 239     time 23      | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 554     time 49      | #<set: NUM>
dderiv       states 5173    time 875     | #<set: BOOL>
mceval       states 72881   time 122121  | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct

store and kstore ts in state with always +1 and keeping intermediate stores
fac          states 33      time 27      σi 7    Ξi 3    | #<set: NUM>
fib          states 54      time 12      σi 9    Ξi 4    | #<set: NUM>
fib-mut      states 63      time 13      σi 16   Ξi 4    | #<set: NUM>
blur         states 91      time 14      σi 20   Ξi 10   | #<set: BOOL>
eta          states 50      time 11      σi 12   Ξi 8    | #<set: BOOL>
mj09         states 49      time 10      σi 11   Ξi 6    | #<set: NUM>
gcipd        states 194     time 17      σi 22   Ξi 9    | #<set: NUM>
kcfa2        states 38      time 11      σi 11   Ξi 7    | #<set: BOOL>
kcfa3        states 44      time 10      σi 14   Ξi 8    | #<set: BOOL>
rotate       states 32      time 10      σi 15   Ξi 3    | #<set: NUM STR BOOL>
loop2        states 79      time 12      σi 16   Ξi 6    | #<set: NUM>
sat          states 89      time 14      σi 24   Ξi 15   | #<set: BOOL>
collatz      states 251     time 22      σi 38   Ξi 10   | #<set: NUM>
rsa          states 498     time 51      σi 77   Ξi 16   | #<set: BOOL>
primtest     states 541     time 48      σi 59   Ξi 10   | #<set: NUM>
factor       states 313     time 34      σi 63   Ξi 11   | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
nqueens      states 910     time 81      σi 84   Ξi 12   | #<set: NUM>

purity-test without reachability
(conc-purity-test)
total 140 fail 0
(abst-purity-test)
total 180 fail 52
All done.

purity-test with reachability (narrowing store to reach. addrs)
(conc-purity-test)
total 140 fail 0
(abst-purity-test)
total 180 fail 22
All done.

(define (traceify graph initial)

  (define (traverse-graph S W)
    (if (set-empty? W)
        S
        (let* ((sT (set-first W))
               (s (car sT))
               (T (cdr sT)))
          (if (set-member? T s)
              (traverse-graph (set-add S T) (set-rest W))
              (let ((T* (set-add T s))
                    (ts (hash-ref graph s (set))))
                (let-values (((S* W*) (for/fold ((W (set-rest W)) (T T)) ((t ts))
                                        (let ((s* (transition-s t)))
                                          (values (set-add W (cons s* S*)) (hash-set T s (set-add (hash-ref T s (set)) t)))))))
                  (traverse-graph W* T*)))))))
  (traverse-graph (set (cons initial (set))) (hash)))
                                    
(define (traceify-sys sys name)
  (let* ((graph (system-graph sys))
         (initial (system-initial sys)))
    (generate-dot (traceify graph initial) name)))
    


function f() { this.x = 10 } // impure function
new f();                     // pure application
f();                         // impure application



***** server numbers (fixed AST parent with parent map): still no fresh!
fib            conc fa   #701     flow-time 20      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sa   #701     flow-time 20      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            type fa   #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sa   #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>

fib-mut        conc fa   #188     flow-time 8       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sa   #188     flow-time 8       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        type fa   #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sa   #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>

treenode1      conc fa   #59      flow-time 2       lams 2   called 2   pure 2  obs 0  proc 0  | undefined
treenode1      conc sa   #59      flow-time 2       lams 2   called 2   pure 2  obs 0  proc 0  | undefined
treenode1      type fa   #64      flow-time 3       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>
treenode1      type sa   #64      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #<set: SYM>

nqueens        conc fa   #2622    flow-time 136     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sa   #2622    flow-time 136     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        type fa   #910     flow-time 97      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sa   #910     flow-time 97      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>

dderiv         conc fa   #2846    flow-time 147     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sa   #2846    flow-time 147     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         type fa   #5725    flow-time 1012    lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sa   #5725    flow-time 1012    lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>

destruct       conc fa   #2251    flow-time 145     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 124)
destruct       conc sa   #2251    flow-time 145     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 124)
destruct       type fa   #1440    flow-time 199     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sa   #1440    flow-time 199     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>

mceval         conc fa   #116426  flow-time 20826   lams 86  called 71  pure 59 obs 2  proc 10 | 21
mceval         conc sa   #116426  flow-time 20826   lams 86  called 71  pure 59 obs 2  proc 10 | 21
mceval         type fa   #50234   flow-time 54701   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sa   #50234   flow-time 54701   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct


***** server latest freshness
fib            conc a    #701     flow-time 23      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sa   #701     flow-time 23      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sfa  #701     flow-time 23      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            type a    #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sa   #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sfa  #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
  
fib-mut        conc a    #188     flow-time 7       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sa   #188     flow-time 7       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sfa  #188     flow-time 7       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        type a    #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sa   #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sfa  #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
  
treenode1      conc a    #59      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | undefined
treenode1      conc sa   #59      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | undefined
treenode1      conc sfa  #59      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | undefined
treenode1      type a    #64      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>
treenode1      type sa   #64      flow-time 4       lams 2   called 2   pure 2  obs 0  proc 0  | #<set: SYM>
treenode1      type sfa  #64      flow-time 4       lams 2   called 2   pure 2  obs 0  proc 0  | #<set: SYM>
  
nqueens        conc a    #2622    flow-time 129     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sa   #2622    flow-time 129     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sfa  #2622    flow-time 129     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        type a    #910     flow-time 96      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sa   #910     flow-time 96      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sfa  #910     flow-time 96      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
  
dderiv         conc a    #2846    flow-time 149     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sa   #2846    flow-time 149     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sfa  #2846    flow-time 149     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         type a    #4784    flow-time 831     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sa   #4784    flow-time 831     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sfa  #4784    flow-time 831     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
  
destruct       conc a    #2251    flow-time 142     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 124)
destruct       conc sa   #2251    flow-time 142     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 124)
destruct       conc sfa  #2251    flow-time 142     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 124)
destruct       type a    #1440    flow-time 198     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sa   #1440    flow-time 198     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sfa  #1440    flow-time 198     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
  
mceval         conc a    #116426  flow-time 20451   lams 86  called 71  pure 59 obs 2  proc 10 | 21
mceval         conc sa   #116426  flow-time 20451   lams 86  called 71  pure 59 obs 2  proc 10 | 21
mceval         conc sfa  #116426  flow-time 20451   lams 86  called 71  pure 59 obs 2  proc 10 | 21
mceval         type a    #49860   flow-time 45029   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sa   #49860   flow-time 45029   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sfa  #49860   flow-time 45029   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct


          ((ev («let» _ x (? ae? ae) e1) ρ _ ι κ _) ; only on ae!
           (let* ((decl (get-declaration («id»-x x) x parent))
                  (Fκ (hash-ref F κ (hash)))
                  (Fκ* (if (fresh? ae Fκ parent ⊥)
                           (add-fresh Fκ decl)
                           (add-unfresh Fκ decl)))
                  (F* (hash-set F κ Fκ*)))
             (values F* (hash-set sF s F*))))
             
          ((ko v _ (cons (letk x e ρ) ι) κ _) ; when e0 in let is not ae, letk is used
              (let* ((decl (get-declaration («id»-x x) x parent))
                     (Fκ (hash-ref F κ (hash)))
                     (Fκ* (if (set-member? E (fr))
                              (add-fresh Fκ decl)
                              (add-unfresh Fκ decl)))
                     (F* (hash-set F κ Fκ*))) 
                (values F* (hash-set sF s F*))))
                
                
                
#################################
20151011 pre- ev(e0,,,,(letk x e1 _):iota,,)
> (purity-test)

fib            conc a    #701     flow-time 12      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sa   #701     flow-time 12      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sfa  #701     flow-time 12      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            type a    #54      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sa   #54      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sfa  #54      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>

fib-mut        conc a    #188     flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sa   #188     flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sfa  #188     flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        type a    #63      flow-time 3       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sa   #63      flow-time 3       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sfa  #63      flow-time 3       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>

blur           conc a    #43      flow-time 1       lams 3   called 3   pure 3  obs 0  proc 0  | #t
blur           conc sa   #43      flow-time 1       lams 3   called 3   pure 3  obs 0  proc 0  | #t
blur           conc sfa  #43      flow-time 1       lams 3   called 3   pure 3  obs 0  proc 0  | #t
blur           type a    #91      flow-time 17      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
blur           type sa   #91      flow-time 17      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
blur           type sfa  #91      flow-time 17      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: BOOL>

eta            conc a    #26      flow-time 0       lams 4   called 4   pure 4  obs 0  proc 0  | #f
eta            conc sa   #26      flow-time 0       lams 4   called 4   pure 4  obs 0  proc 0  | #f
eta            conc sfa  #26      flow-time 0       lams 4   called 4   pure 4  obs 0  proc 0  | #f
eta            type a    #50      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
eta            type sa   #50      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
eta            type sfa  #50      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: BOOL>

mj09           conc a    #29      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | 2
mj09           conc sa   #29      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | 2
mj09           conc sfa  #29      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | 2
mj09           type a    #49      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: NUM>
mj09           type sa   #49      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: NUM>
mj09           type sfa  #49      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: NUM>

gcipd          conc a    #91      flow-time 2       lams 3   called 3   pure 3  obs 0  proc 0  | 36
gcipd          conc sa   #91      flow-time 2       lams 3   called 3   pure 3  obs 0  proc 0  | 36
gcipd          conc sfa  #91      flow-time 2       lams 3   called 3   pure 3  obs 0  proc 0  | 36
gcipd          type a    #194     flow-time 7       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
gcipd          type sa   #194     flow-time 7       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
gcipd          type sfa  #194     flow-time 7       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>

kcfa2          conc a    #41      flow-time 0       lams 3   called 3   pure 3  obs 0  proc 0  | #f
kcfa2          conc sa   #41      flow-time 0       lams 3   called 3   pure 3  obs 0  proc 0  | #f
kcfa2          conc sfa  #41      flow-time 0       lams 3   called 3   pure 3  obs 0  proc 0  | #f
kcfa2          type a    #38      flow-time 0       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
kcfa2          type sa   #38      flow-time 0       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: BOOL>
kcfa2          type sfa  #38      flow-time 0       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: BOOL>

kcfa3          conc a    #61      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #f
kcfa3          conc sa   #61      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #f
kcfa3          conc sfa  #61      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #f
kcfa3          type a    #44      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
kcfa3          type sa   #44      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: BOOL>
kcfa3          type sfa  #44      flow-time 1       lams 4   called 4   pure 4  obs 0  proc 0  | #<set: BOOL>

rotate         conc a    #336     flow-time 7       lams 1   called 1   pure 1  obs 0  proc 0  | hallo
rotate         conc sa   #336     flow-time 7       lams 1   called 1   pure 1  obs 0  proc 0  | hallo
rotate         conc sfa  #336     flow-time 7       lams 1   called 1   pure 1  obs 0  proc 0  | hallo
rotate         type a    #32      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM STR BOOL>
rotate         type sa   #32      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM STR BOOL>
rotate         type sfa  #32      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM STR BOOL>

loop2          conc a    #1348    flow-time 26      lams 3   called 3   pure 3  obs 0  proc 0  | 550
loop2          conc sa   #1348    flow-time 26      lams 3   called 3   pure 3  obs 0  proc 0  | 550
loop2          conc sfa  #1348    flow-time 26      lams 3   called 3   pure 3  obs 0  proc 0  | 550
loop2          type a    #79      flow-time 3       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
loop2          type sa   #79      flow-time 3       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
loop2          type sfa  #79      flow-time 3       lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>

sat            conc a    #77      flow-time 1       lams 7   called 7   pure 7  obs 0  proc 0  | #t
sat            conc sa   #77      flow-time 1       lams 7   called 7   pure 7  obs 0  proc 0  | #t
sat            conc sfa  #77      flow-time 1       lams 7   called 7   pure 7  obs 0  proc 0  | #t
sat            type a    #89      flow-time 3       lams 7   called 7   pure 7  obs 0  proc 0  | #<set: BOOL>
sat            type sa   #89      flow-time 3       lams 7   called 7   pure 7  obs 0  proc 0  | #<set: BOOL>
sat            type sfa  #89      flow-time 3       lams 7   called 7   pure 7  obs 0  proc 0  | #<set: BOOL>

collatz        conc a    #777     flow-time 15      lams 5   called 5   pure 5  obs 0  proc 0  | 5
collatz        conc sa   #777     flow-time 15      lams 5   called 5   pure 5  obs 0  proc 0  | 5
collatz        conc sfa  #777     flow-time 15      lams 5   called 5   pure 5  obs 0  proc 0  | 5
collatz        type a    #251     flow-time 9       lams 5   called 5   pure 5  obs 0  proc 0  | #<set: NUM>
collatz        type sa   #251     flow-time 9       lams 5   called 5   pure 5  obs 0  proc 0  | #<set: NUM>
collatz        type sfa  #251     flow-time 9       lams 5   called 5   pure 5  obs 0  proc 0  | #<set: NUM>

rsa            conc a    #512     flow-time 16      lams 9   called 9   pure 9  obs 0  proc 0  | #t
rsa            conc sa   #512     flow-time 16      lams 9   called 9   pure 9  obs 0  proc 0  | #t
rsa            conc sfa  #512     flow-time 16      lams 9   called 9   pure 9  obs 0  proc 0  | #t
rsa            type a    #498     flow-time 34      lams 9   called 9   pure 9  obs 0  proc 0  | #<set: BOOL>
rsa            type sa   #498     flow-time 34      lams 9   called 9   pure 9  obs 0  proc 0  | #<set: BOOL>
rsa            type sfa  #498     flow-time 34      lams 9   called 9   pure 9  obs 0  proc 0  | #<set: BOOL>

primtest       conc a    #738     flow-time 24      lams 5   called 4   pure 4  obs 0  proc 0  | 1
primtest       conc sa   #738     flow-time 24      lams 5   called 4   pure 4  obs 0  proc 0  | 1
primtest       conc sfa  #738     flow-time 24      lams 5   called 4   pure 4  obs 0  proc 0  | 1
primtest       type a    #541     flow-time 33      lams 5   called 5   pure 5  obs 0  proc 0  | #<set: NUM>
primtest       type sa   #541     flow-time 33      lams 5   called 5   pure 5  obs 0  proc 0  | #<set: NUM>
primtest       type sfa  #541     flow-time 33      lams 5   called 5   pure 5  obs 0  proc 0  | #<set: NUM>

factor         conc a    #117     flow-time 3       lams 7   called 7   pure 7  obs 0  proc 0  | #(struct:addr 116)
factor         conc sa   #117     flow-time 3       lams 7   called 7   pure 7  obs 0  proc 0  | #(struct:addr 116)
factor         conc sfa  #117     flow-time 3       lams 7   called 7   pure 7  obs 0  proc 0  | #(struct:addr 116)
factor         type a    #313     flow-time 16      lams 7   called 7   pure 7  obs 0  proc 0  | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
factor         type sa   #313     flow-time 16      lams 7   called 7   pure 7  obs 0  proc 0  | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()
factor         type sfa  #313     flow-time 16      lams 7   called 7   pure 7  obs 0  proc 0  | #<set: #(struct:addr (cons v acc)) #(struct:addr (cons 2 _two-list5)) ()

purity1        conc a    #10      flow-time 0       lams 3   called 3   pure 0  obs 0  proc 3  | #t
purity1        conc sa   #10      flow-time 0       lams 3   called 3   pure 0  obs 0  proc 3  | #t
purity1        conc sfa  #10      flow-time 0       lams 3   called 3   pure 0  obs 0  proc 3  | #t
purity1        type a    #10      flow-time 0       lams 3   called 3   pure 0  obs 0  proc 3  | #<set: BOOL>
purity1        type sa   #10      flow-time 0       lams 3   called 3   pure 0  obs 0  proc 3  | #<set: BOOL>
purity1        type sfa  #10      flow-time 0       lams 3   called 3   pure 0  obs 0  proc 3  | #<set: BOOL>

purity2        conc a    #10      flow-time 0       lams 3   called 3   pure 1  obs 0  proc 2  | #t
purity2        conc sa   #10      flow-time 0       lams 3   called 3   pure 1  obs 0  proc 2  | #t
purity2        conc sfa  #10      flow-time 0       lams 3   called 3   pure 1  obs 0  proc 2  | #t
purity2        type a    #10      flow-time 0       lams 3   called 3   pure 1  obs 0  proc 2  | #<set: BOOL>
purity2        type sa   #10      flow-time 0       lams 3   called 3   pure 1  obs 0  proc 2  | #<set: BOOL>
purity2        type sfa  #10      flow-time 0       lams 3   called 3   pure 1  obs 0  proc 2  | #<set: BOOL>

purity3        conc a    #13      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #t
purity3        conc sa   #13      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #t
purity3        conc sfa  #13      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #t
purity3        type a    #17      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #<set: BOOL>
purity3        type sa   #17      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #<set: BOOL>
purity3        type sfa  #17      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #<set: BOOL>

purity4        conc a    #15      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 5
purity4        conc sa   #15      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 5
purity4        conc sfa  #15      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 5
purity4        type a    #19      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>
purity4        type sa   #19      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>
purity4        type sfa  #19      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>

purity5        conc a    #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity5        conc sa   #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity5        conc sfa  #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity5        type a    #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
purity5        type sa   #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
purity5        type sfa  #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>

purity6        conc a    #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity6        conc sa   #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity6        conc sfa  #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity6        type a    #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
purity6        type sa   #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
purity6        type sfa  #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>

purity7        conc a    #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity7        conc sa   #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity7        conc sfa  #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | 3
purity7        type a    #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
purity7        type sa   #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
purity7        type sfa  #13      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>

purity8        conc a    #15      flow-time 1       lams 1   called 1   pure 0  obs 1  proc 0  | 3
purity8        conc sa   #15      flow-time 1       lams 1   called 1   pure 0  obs 1  proc 0  | 3
purity8        conc sfa  #15      flow-time 1       lams 1   called 1   pure 0  obs 1  proc 0  | 3
purity8        type a    #19      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #<set: NUM>
purity8        type sa   #19      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #<set: NUM>
purity8        type sfa  #19      flow-time 0       lams 1   called 1   pure 0  obs 1  proc 0  | #<set: NUM>

purity9        conc a    #15      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 5
purity9        conc sa   #15      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 5
purity9        conc sfa  #15      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 5
purity9        type a    #19      flow-time 1       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>
purity9        type sa   #19      flow-time 1       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>
purity9        type sfa  #19      flow-time 1       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>

purity10       conc a    #13      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | 3
purity10       conc sa   #13      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | 3
purity10       conc sfa  #13      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | 3
purity10       type a    #13      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: NUM>
purity10       type sa   #13      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: NUM>
purity10       type sfa  #13      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: NUM>

purity11       conc a    #10      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | undefined
purity11       conc sa   #10      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | undefined
purity11       conc sfa  #10      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | undefined
purity11       type a    #10      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>
purity11       type sa   #10      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>
purity11       type sfa  #10      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>

purity12       conc a    #16      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 11
purity12       conc sa   #16      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 11
purity12       conc sfa  #16      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 11
purity12       type a    #20      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>
purity12       type sa   #20      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>
purity12       type sfa  #20      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>

purity13       conc a    #20      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 3
purity13       conc sa   #20      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 3
purity13       conc sfa  #20      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | 3
purity13       type a    #24      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>
purity13       type sa   #24      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>
purity13       type sfa  #24      flow-time 0       lams 2   called 2   pure 1  obs 1  proc 0  | #<set: NUM>

purity14       conc a    #64      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | done
purity14       conc sa   #64      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | done
purity14       conc sfa  #64      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | done
purity14       type a    #34      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>
purity14       type sa   #34      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>
purity14       type sfa  #34      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>

purity15       conc a    #84      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | done
purity15       conc sa   #84      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | done
purity15       conc sfa  #84      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | done
purity15       type a    #44      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>
purity15       type sa   #44      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>
purity15       type sfa  #44      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: SYM>

purity16       conc a    #91      flow-time 2       lams 1   called 1   pure 0  obs 0  proc 1  | done
purity16       conc sa   #91      flow-time 2       lams 1   called 1   pure 0  obs 0  proc 1  | done
purity16       conc sfa  #91      flow-time 2       lams 1   called 1   pure 0  obs 0  proc 1  | done
purity16       type a    #49      flow-time 2       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: SYM>
purity16       type sa   #49      flow-time 2       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: SYM>
purity16       type sfa  #49      flow-time 2       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: SYM>

purity17       conc a    #52      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | done
purity17       conc sa   #52      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | done
purity17       conc sfa  #52      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | done
purity17       type a    #28      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: SYM>
purity17       type sa   #28      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: SYM>
purity17       type sfa  #28      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: SYM>

purity18       conc a    #76      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #(struct:addr 53)
purity18       conc sa   #76      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #(struct:addr 53)
purity18       conc sfa  #76      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #(struct:addr 53)
purity18       type a    #41      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: #(struct:addr (cons 1 2)) SYM>
purity18       type sa   #41      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: #(struct:addr (cons 1 2)) SYM>
purity18       type sfa  #41      flow-time 1       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: #(struct:addr (cons 1 2)) SYM>

fresh1         conc a    #16      flow-time 0       lams 2   called 2   pure 0  obs 0  proc 2  | undefined
fresh1         conc sa   #16      flow-time 0       lams 2   called 2   pure 0  obs 0  proc 2  | undefined
fresh1         conc sfa  #16      flow-time 0       lams 2   called 2   pure 0  obs 0  proc 2  | undefined
fresh1         type a    #16      flow-time 0       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: SYM>
fresh1         type sa   #16      flow-time 0       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: SYM>
fresh1         type sfa  #16      flow-time 0       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: SYM>

fresh2         conc a    #20      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #(struct:addr 52)
fresh2         conc sa   #20      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #(struct:addr 52)
fresh2         conc sfa  #20      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #(struct:addr 52)
fresh2         type a    #34      flow-time 0       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: #(struct:addr (cons 4 5)) BOOL>
fresh2         type sa   #34      flow-time 0       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: #(struct:addr (cons 4 5)) BOOL>
fresh2         type sfa  #34      flow-time 0       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: #(struct:addr (cons 4 5)) BOOL>

treenode1      conc a    #68      flow-time 2       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 84)
treenode1      conc sa   #68      flow-time 2       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 84)
treenode1      conc sfa  #68      flow-time 2       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 84)
treenode1      type a    #75      flow-time 2       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2))>
treenode1      type sa   #75      flow-time 2       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2))>
treenode1      type sfa  #75      flow-time 2       lams 2   called 2   pure 2  obs 0  proc 0  | #<set: #(struct:addr (cons 1 2))>

helloset!      conc a    #26      flow-time 0       lams 1   called 1   pure 0  obs 0  proc 1  | foo
helloset!      conc sa   #26      flow-time 0       lams 1   called 1   pure 0  obs 0  proc 1  | foo
helloset!      conc sfa  #26      flow-time 0       lams 1   called 1   pure 0  obs 0  proc 1  | foo
helloset!      type a    #39      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: NUM STR>
helloset!      type sa   #39      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: NUM STR>
helloset!      type sfa  #39      flow-time 1       lams 1   called 1   pure 0  obs 0  proc 1  | #<set: NUM STR>

hellomemoset!  conc a    #15      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | hehe
hellomemoset!  conc sa   #15      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | hehe
hellomemoset!  conc sfa  #15      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | hehe
hellomemoset!  type a    #16      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM STR>
hellomemoset!  type sa   #16      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM STR>
hellomemoset!  type sfa  #16      flow-time 0       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM STR>
Results in purity-result

(conc-purity-test)
total 213 fail 0
(abst-purity-test)
error 38 type-a
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 38 type-sa
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 46 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 47 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 57 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
error a4 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a5 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a6 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a20 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
Final: #hash((type-a . 14) (type-sa . 9) (type-sfa . 2))

          ((ev («let» _ x (? ae? ae) e1) ρ _ ι κ Ξi) ; only on ae!
           (let* ((decl (get-declaration («id»-x x) x parent))
                  (ctxs (set-add (stack-contexts κ (vector-ref Ξ Ξi)) #f)) ; adding top-level ctx '#f', because freshness also deals with top-level stuff
                  (F* (for/fold ((F F)) ((κ ctxs))
                        (let ((Fκ (hash-ref F κ (hash))))
                              (let ((Fκ* (if (fresh? ae Fκ parent ⊥)
                                             (add-fresh Fκ decl)
                                             (add-unfresh Fκ decl))))
                                (hash-set F κ Fκ*))
                              ))))
             (values F* (hash-set sF s F*))))


ftp://ftp.cs.indiana.edu/pub/scheme-repository/code/struct/grid.scm
                
             
(for/fold ((result type-⊥)) ((prim2 (type-γ (cdr (assoc "<=" type-global)))))
    (type-⊔ result ((prim2-proc prim2) (type-α 1) (type-α 2))))
    
    
    
treeadd        conc a    #680     flow-time 48      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc sa   #680     flow-time 48      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc sfa  #680     flow-time 48      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        type a    #304     flow-time 14      lams 3   called 3   pure 2  obs 0  proc 1  | #<set: NUM>
treeadd        type sa   #304     flow-time 14      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
treeadd        type sfa  #304     flow-time 14      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>

treeadd2       conc a    #996     flow-time 26      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc sa   #996     flow-time 26      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc sfa  #996     flow-time 26      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       type a    #301     flow-time 14      lams 3   called 3   pure 1  obs 0  proc 2  | #<set: NUM>
treeadd2       type sa   #301     flow-time 14      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>
treeadd2       type sfa  #301     flow-time 14      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>

treeadd3       conc a    #815     flow-time 22      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc sa   #815     flow-time 22      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc sfa  #815     flow-time 22      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       type a    #249     flow-time 15      lams 2   called 2   pure 0  obs 0  proc 2  | #<set: NUM>
treeadd3       type sa   #249     flow-time 15      lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
treeadd3       type sfa  #249     flow-time 15      lams 2   called 2   pure 2  obs 0  proc 0  | #<set: NUM>    


*** 20151016 pre-scoping/fresh bug with ho function
(conc-purity-test)
error 61 conc-sa
expected ((2 . PROC) (13 . PROC)) actual #hash((13 . PROC) (2 . PURE))
error 61 conc-sfa
expected ((2 . PROC) (13 . PROC)) actual #hash((13 . PROC) (2 . PURE))
error 62 conc-sfa
expected ((2 . PROC) (16 . PROC)) actual #hash((2 . PURE) (16 . PROC))
total 219 fail 3
(abst-purity-test)
error 38 type-a
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 38 type-sa
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 46 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 47 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 57 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 61 type-sa
expected ((2 . PROC) (13 . PROC)) actual #hash((13 . PROC) (2 . PURE))
error 61 type-sfa
expected ((2 . PROC) (13 . PROC)) actual #hash((13 . PROC) (2 . PURE))
error 62 type-sfa
expected ((2 . PROC) (16 . PROC)) actual #hash((2 . PURE) (16 . PROC))
error a4 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a5 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a6 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a20 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
Final: #hash((type-sa . 10) (type-sfa . 4) (type-a . 14))

20151019
Bad scope/freshness code
(define (sa-observable-effect? parent call-states)
  (lambda (eff κ _s)
      (match eff
        ((wv a x)
         (let ((decl (get-declaration («id»-x x) x parent))
               (λ (ctx-λ κ)))
           (not (inner-scope-declaration? decl λ))))
             ;(when (not (eq? scope-o? address-o?))
             ;  (printf "disagree ~a ~a a ~a scope ~a s ~a\n" eff (ctx->ctxi κ) address-o? scope-o? (state-repr _s)))
        ((wp a _ _)
         (let ((A (hash-ref call-states κ)))
           (set-member? A a)))
        ((rv a x)
         (let ((decl (get-declaration («id»-x x) x parent))
               (λ (ctx-λ κ)))
           (not (inner-scope-declaration? decl λ))))
        ((rp a _ _)
         (let ((A (hash-ref call-states κ)))
           (set-member? A a))))))

(define (sfa-observable-effect? parent call-states fresh?)
  (lambda (eff κ s)
    (match eff
      ((wv a x)
       (let ((decl (get-declaration («id»-x x) x parent))
             (λ (ctx-λ κ)))
         (not (inner-scope-declaration? decl λ))))
      ((wp a _ x)
       (if (fresh? x s κ)
           #f
           (let ((A (hash-ref call-states κ)))
              (set-member? A a))))
      ((rv a x)
       (let ((decl (get-declaration («id»-x x) x parent))
             (λ (ctx-λ κ)))
         (not (inner-scope-declaration? decl λ))))
      ((rp a _ x)
       (if (fresh? x s κ)
           #f
           (let ((A (hash-ref call-states κ)))
             (set-member? A a)))))))
             
201510 revamp (top-level scope/fr checks)
(conc-purity-test)
total 219 fail 0
(abst-purity-test)
error 38 type-a
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 38 type-sa
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 46 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 47 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 57 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
error a4 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a5 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a6 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a20 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
Final: #hash((type-sfa . 2) (type-a . 14) (type-sa . 9))
All done.

treeadd        conc a    #680     flow-time 21      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc sa   #680     flow-time 21      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc sfa  #680     flow-time 21      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        type a    #304     flow-time 14      lams 3   called 3   pure 2  obs 0  proc 1  | #<set: NUM>
treeadd        type sa   #304     flow-time 14      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
treeadd        type sfa  #304     flow-time 14      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>

treeadd2       conc a    #996     flow-time 36      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc sa   #996     flow-time 36      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc sfa  #996     flow-time 36      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       type a    #301     flow-time 16      lams 3   called 3   pure 1  obs 0  proc 2  | #<set: NUM>
treeadd2       type sa   #301     flow-time 16      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>
treeadd2       type sfa  #301     flow-time 16      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>

treeadd3       conc a    #815     flow-time 44      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc sa   #815     flow-time 44      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc sfa  #815     flow-time 44      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       type a    #249     flow-time 11      lams 2   called 2   pure 0  obs 0  proc 2  | #<set: NUM>
treeadd3       type sa   #249     flow-time 11      lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
treeadd3       type sfa  #249     flow-time 11      lams 2   called 2   pure 2  obs 0  proc 0  | #<set: NUM>

> (server-purity-test)

fib            conc a    #701     flow-time 26      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sa   #701     flow-time 26      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sfa  #701     flow-time 26      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            type a    #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sa   #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sfa  #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>

fib-mut        conc a    #188     flow-time 8       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sa   #188     flow-time 8       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sfa  #188     flow-time 8       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        type a    #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sa   #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sfa  #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>

treenode1      conc a    #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      conc sa   #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      conc sfa  #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      type a    #75      flow-time 4       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2))>
treenode1      type sa   #75      flow-time 4       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2))>
treenode1      type sfa  #75      flow-time 4       lams 2   called 2   pure 2  obs 0  proc 0  | #<set: #(struct:addr (cons 1 2))>

nqueens        conc a    #2622    flow-time 177     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sa   #2622    flow-time 177     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sfa  #2622    flow-time 177     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        type a    #910     flow-time 97      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sa   #910     flow-time 97      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sfa  #910     flow-time 97      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>

dderiv         conc a    #2846    flow-time 205     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sa   #2846    flow-time 205     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sfa  #2846    flow-time 205     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         type a    #4472    flow-time 822     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sa   #4472    flow-time 822     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sfa  #4472    flow-time 822     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>

destruct       conc a    #2251    flow-time 209     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       conc sa   #2251    flow-time 209     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       conc sfa  #2251    flow-time 209     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       type a    #1440    flow-time 201     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sa   #1440    flow-time 201     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sfa  #1440    flow-time 201     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>

mceval         conc a    #9104    flow-time 2394    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         conc sa   #9104    flow-time 2394    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         conc sfa  #9104    flow-time 2394    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         type a    #60685   flow-time 55442   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sa   #60685   flow-time 55442   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sfa  #60685   flow-time 55442   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct

==
Example for reachable-A vs A
(letrec ((f (lambda (b)
                          (if b
                              (let ((x (let ((y (cons 1 2))) y)))
                                (let ((u (set-car! x 3)))
                                    (f #f)))
                              'done))))
              (f #t)))
Even without freshness 'f' is detected as pure.
==

20151104 Redesigned freshness analysis
(conc-purity-test)
total 234 fail 0
(abst-purity-test)
error 38 type-a
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 38 type-sa
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 46 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 47 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 57 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 64 type-a
expected ((266 . PROC) (185 . OBS) (59 . PURE) (2 . PURE) (120 . PROC)) actual #hash((266 . PROC) (185 . OBS) (59 . PROC) (2 . PURE) (120 . PROC))
error 64 type-sa
expected ((266 . PROC) (185 . OBS) (59 . PURE) (2 . PURE) (120 . PROC)) actual #hash((266 . PROC) (185 . OBS) (59 . PROC) (2 . PURE) (120 . PROC))
error 64 type-sfa
expected ((266 . PROC) (185 . OBS) (59 . PURE) (2 . PURE) (120 . PROC)) actual #hash((266 . PROC) (185 . OBS) (59 . PROC) (2 . PURE) (120 . PROC))
error 65 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 65 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 67 type-a
expected ((2 . PURE) (14 . PROC)) actual #hash((14 . PROC) (2 . PROC))
error 67 type-sa
expected ((2 . PURE) (14 . PROC)) actual #hash((14 . PROC) (2 . PROC))
error 67 type-sfa
expected ((2 . PURE) (14 . PROC)) actual #hash((14 . PROC) (2 . PROC))
error a4 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a5 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a6 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a20 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
Final: #hash((type-sfa . 4) (type-a . 17) (type-sa . 12))
All done.

> (purity-test 'treeadd 'treeadd2 'treeadd3 'purity19)

treeadd        conc a    #680     flow-time 22      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc sa   #680     flow-time 22      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc sfa  #680     flow-time 22      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        type a    #304     flow-time 14      lams 3   called 3   pure 2  obs 0  proc 1  | #<set: NUM>
treeadd        type sa   #304     flow-time 14      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
treeadd        type sfa  #304     flow-time 14      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>

treeadd2       conc a    #996     flow-time 35      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc sa   #996     flow-time 35      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc sfa  #996     flow-time 35      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       type a    #301     flow-time 18      lams 3   called 3   pure 1  obs 0  proc 2  | #<set: NUM>
treeadd2       type sa   #301     flow-time 18      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>
treeadd2       type sfa  #301     flow-time 18      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>

treeadd3       conc a    #815     flow-time 29      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc sa   #815     flow-time 29      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc sfa  #815     flow-time 29      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       type a    #249     flow-time 17      lams 2   called 2   pure 0  obs 0  proc 2  | #<set: NUM>
treeadd3       type sa   #249     flow-time 17      lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
treeadd3       type sfa  #249     flow-time 17      lams 2   called 2   pure 2  obs 0  proc 0  | #<set: NUM>

purity19       conc a    #18      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #(struct:addr 55)
purity19       conc sa   #18      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #(struct:addr 55)
purity19       conc sfa  #18      flow-time 0       lams 2   called 2   pure 1  obs 0  proc 1  | #(struct:addr 55)
purity19       type a    #39      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2)) SYM>
purity19       type sa   #39      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2)) SYM>
purity19       type sfa  #39      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2)) SYM>
Results in purity-result

> (server-purity-test)
fib            conc a    #701     flow-time 26      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sa   #701     flow-time 26      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sfa  #701     flow-time 26      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            type a    #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sa   #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sfa  #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>

fib-mut        conc a    #188     flow-time 9       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sa   #188     flow-time 9       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sfa  #188     flow-time 9       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        type a    #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sa   #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sfa  #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>

treenode1      conc a    #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      conc sa   #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      conc sfa  #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      type a    #75      flow-time 5       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2))>
treenode1      type sa   #75      flow-time 5       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2))>
treenode1      type sfa  #75      flow-time 5       lams 2   called 2   pure 2  obs 0  proc 0  | #<set: #(struct:addr (cons 1 2))>

nqueens        conc a    #2622    flow-time 182     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sa   #2622    flow-time 182     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sfa  #2622    flow-time 182     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        type a    #910     flow-time 98      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sa   #910     flow-time 98      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sfa  #910     flow-time 98      lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>

dderiv         conc a    #2846    flow-time 205     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sa   #2846    flow-time 205     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sfa  #2846    flow-time 205     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         type a    #5091    flow-time 926     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sa   #5091    flow-time 926     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sfa  #5091    flow-time 926     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>

destruct       conc a    #2251    flow-time 213     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       conc sa   #2251    flow-time 213     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       conc sfa  #2251    flow-time 213     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       type a    #1440    flow-time 201     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sa   #1440    flow-time 201     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sfa  #1440    flow-time 201     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>

mceval         conc a    #9104    flow-time 2403    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         conc sa   #9104    flow-time 2403    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         conc sfa  #9104    flow-time 2403    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         type a    #43802   flow-time 47032   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sa   #43802   flow-time 47032   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sfa  #43802   flow-time 47032   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
Results in purity-result

=== 20151111 Another big revamp: stack-walking with dyn for scope and fresh (dyn comes frome escape analysis)
(conc-purity-test)
total 312 fail 0
(abst-purity-test)
error 38 type-a
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 38 type-sa
expected ((2 . PURE) (22 . PURE)) actual #hash((22 . PROC) (2 . PROC))
error 46 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 47 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 52 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 53 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 54 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 57 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 57 type-msfa
expected ((8 . PURE)) actual #hash((8 . PROC))
error 64 type-a
expected ((266 . PROC) (185 . OBS) (59 . PURE) (2 . PURE) (120 . PROC)) actual #hash((266 . PROC) (185 . OBS) (59 . PROC) (2 . PURE) (120 . PROC))
error 64 type-sa
expected ((266 . PROC) (185 . OBS) (59 . PURE) (2 . PURE) (120 . PROC)) actual #hash((266 . PROC) (185 . OBS) (59 . PROC) (2 . PURE) (120 . PROC))
error 64 type-sfa
expected ((266 . PROC) (185 . OBS) (59 . PURE) (2 . PURE) (120 . PROC)) actual #hash((266 . PROC) (185 . OBS) (59 . PROC) (2 . PURE) (120 . PROC))
error 65 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error 65 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error 67 type-a
expected ((2 . PURE) (14 . PROC)) actual #hash((14 . PROC) (2 . PROC))
error 67 type-sa
expected ((2 . PURE) (14 . PROC)) actual #hash((14 . PROC) (2 . PROC))
error 67 type-sfa
expected ((2 . PURE) (14 . PROC)) actual #hash((14 . PROC) (2 . PROC))
error a4 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a5 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a6 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a14 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a15 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-a
expected ((2 . PURE)) actual #hash((2 . PROC))
error a16 type-sa
expected ((2 . PURE)) actual #hash((2 . PROC))
error a20 type-a
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sa
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-sfa
expected ((8 . PURE)) actual #hash((8 . PROC))
error a20 type-msfa
expected ((8 . PURE)) actual #hash((8 . PROC))
Final: #hash((type-msfa . 2) (type-a . 17) (type-sa . 12) (type-sfa . 4))

> (purity-test 'treeadd 'treeadd2 'treeadd3 'purity19)
treeadd        conc a    #680     flow-time 52      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc sa   #680     flow-time 52      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc sfa  #680     flow-time 52      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        conc msfa #680     flow-time 52      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd        type a    #304     flow-time 13      lams 3   called 3   pure 2  obs 0  proc 1  | #<set: NUM>
treeadd        type sa   #304     flow-time 13      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
treeadd        type sfa  #304     flow-time 13      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>
treeadd        type msfa #304     flow-time 13      lams 3   called 3   pure 3  obs 0  proc 0  | #<set: NUM>

treeadd2       conc a    #996     flow-time 33      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc sa   #996     flow-time 33      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc sfa  #996     flow-time 33      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       conc msfa #996     flow-time 33      lams 3   called 3   pure 3  obs 0  proc 0  | 15
treeadd2       type a    #301     flow-time 14      lams 3   called 3   pure 1  obs 0  proc 2  | #<set: NUM>
treeadd2       type sa   #301     flow-time 14      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>
treeadd2       type sfa  #301     flow-time 14      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>
treeadd2       type msfa #301     flow-time 14      lams 3   called 3   pure 1  obs 1  proc 1  | #<set: NUM>

treeadd3       conc a    #815     flow-time 42      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc sa   #815     flow-time 42      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc sfa  #815     flow-time 42      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       conc msfa #815     flow-time 42      lams 2   called 2   pure 2  obs 0  proc 0  | 15
treeadd3       type a    #249     flow-time 14      lams 2   called 2   pure 0  obs 0  proc 2  | #<set: NUM>
treeadd3       type sa   #249     flow-time 14      lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
treeadd3       type sfa  #249     flow-time 14      lams 2   called 2   pure 2  obs 0  proc 0  | #<set: NUM>
treeadd3       type msfa #249     flow-time 14      lams 2   called 2   pure 2  obs 0  proc 0  | #<set: NUM>

purity19       conc a    #18      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #(struct:addr 55)
purity19       conc sa   #18      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #(struct:addr 55)
purity19       conc sfa  #18      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #(struct:addr 55)
purity19       conc msfa #18      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #(struct:addr 55)
purity19       type a    #39      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2)) SYM>
purity19       type sa   #39      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2)) SYM>
purity19       type sfa  #39      flow-time 1       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2)) SYM>
purity19       type msfa #39      flow-time 1       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: #(struct:addr (cons 1 2)) SYM>
Results in purity-result

> (server-purity-test)

fib            conc a    #701     flow-time 27      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sa   #701     flow-time 27      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc sfa  #701     flow-time 27      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            conc msfa #701     flow-time 27      lams 1   called 1   pure 1  obs 0  proc 0  | 21
fib            type a    #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sa   #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type sfa  #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>
fib            type msfa #54      flow-time 3       lams 1   called 1   pure 1  obs 0  proc 0  | #<set: NUM>

fib-mut        conc a    #188     flow-time 9       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sa   #188     flow-time 9       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc sfa  #188     flow-time 9       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        conc msfa #188     flow-time 9       lams 2   called 2   pure 1  obs 0  proc 1  | 21
fib-mut        type a    #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sa   #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type sfa  #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>
fib-mut        type msfa #63      flow-time 4       lams 2   called 2   pure 1  obs 0  proc 1  | #<set: NUM>

treenode1      conc a    #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      conc sa   #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      conc sfa  #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      conc msfa #68      flow-time 3       lams 2   called 2   pure 2  obs 0  proc 0  | #(struct:addr 87)
treenode1      type a    #75      flow-time 4       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2))>
treenode1      type sa   #75      flow-time 4       lams 2   called 2   pure 0  obs 0  proc 2  | #<set: #(struct:addr (cons 1 2))>
treenode1      type sfa  #75      flow-time 4       lams 2   called 2   pure 2  obs 0  proc 0  | #<set: #(struct:addr (cons 1 2))>
treenode1      type msfa #75      flow-time 4       lams 2   called 2   pure 2  obs 0  proc 0  | #<set: #(struct:addr (cons 1 2))>

nqueens        conc a    #2622    flow-time 183     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sa   #2622    flow-time 183     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc sfa  #2622    flow-time 183     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        conc msfa #2622    flow-time 183     lams 6   called 6   pure 6  obs 0  proc 0  | 2
nqueens        type a    #910     flow-time 100     lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sa   #910     flow-time 100     lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type sfa  #910     flow-time 100     lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>
nqueens        type msfa #910     flow-time 100     lams 6   called 6   pure 6  obs 0  proc 0  | #<set: NUM>

dderiv         conc a    #2846    flow-time 206     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sa   #2846    flow-time 206     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc sfa  #2846    flow-time 206     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         conc msfa #2846    flow-time 206     lams 20  called 10  pure 9  obs 0  proc 1  | #t
dderiv         type a    #4596    flow-time 825     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sa   #4596    flow-time 825     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type sfa  #4596    flow-time 825     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>
dderiv         type msfa #4596    flow-time 825     lams 20  called 14  pure 5  obs 8  proc 1  | #<set: BOOL>

destruct       conc a    #2251    flow-time 209     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       conc sa   #2251    flow-time 209     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       conc sfa  #2251    flow-time 209     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       conc msfa #2251    flow-time 209     lams 11  called 11  pure 3  obs 1  proc 7  | #(struct:addr 127)
destruct       type a    #1440    flow-time 203     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sa   #1440    flow-time 203     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type sfa  #1440    flow-time 203     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>
destruct       type msfa #1440    flow-time 203     lams 11  called 11  pure 3  obs 1  proc 7  | #<set: #(struct:addr (cons #(struct:«quo» 105 ()) _a19)) ()>

mceval         conc a    #9104    flow-time 2395    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         conc sa   #9104    flow-time 2395    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         conc sfa  #9104    flow-time 2395    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         conc msfa #9104    flow-time 2395    lams 86  called 71  pure 59 obs 2  proc 10 | 2
mceval         type a    #46153   flow-time 38598   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sa   #46153   flow-time 38598   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type sfa  #46153   flow-time 38598   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
mceval         type msfa #46153   flow-time 38598   lams 86  called 84  pure 12 obs 59 proc 13 | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
Results in purity-result
Done.

==== 20151203
Removed from purity.rkt:
(define (outer-scope-declaration? decl e parent)
  (let up ((e e))
    (let ((p (parent e)))
      (match p
        (#f #f)
        ((«lam» _ x _)
         (let right ((x x))
           (if (null? x)
               (up p)
               (if (equal? decl (car x))
                   #t
                   (right (cdr x))))))
        ((«let» _ x e0 e1)
         (if (eq? e0 e)
             (up p)
             (if (equal? decl x)
                 #t
                 (up p)))) 
        ((«letrec» _ x _ _)
         (if (equal? decl x)
             #t
             (up p)))
        (_ (up p))))))
        
(define sys (type-mach-0 treeadd3))
(generate-dot (system-graph sys) "treeadd3")
(sa-purity-analysis sys)

==== 20151208
local
> (define sys (parameterize ((CESK-TIMELIMIT 60) (THROW #f)) (type-mach-0 boyer)))
> sys
<sys #114030 ok >
> (define a-summary (purity-benchmark sys a-purity-analysis))
> (define msfa-summary (purity-benchmark sys msfa-purity-analysis))
> (print-purity-summary a-summary)
#114030  f-time 630353  lams 36  called 26  pure 3  obs 8  proc 15 p-time 3824491 | #<set: BOOL>
> (print-purity-summary msfa-summary)
#114030  f-time 630353  lams 36  called 26  pure 3  obs 8  proc 15 p-time 7557049 | #<set: BOOL>


====20151210 
server
fib
conc states 701     lams 1 called 1 | call eps   esc eps   fresh eps   fresh-esc eps   | 21
a    pure 1  obs 0  proc 0  | gen / obs / | se eps
sa   pure 1  obs 0  proc 0  | gen / obs / | se eps
sfa  pure 1  obs 0  proc 0  | gen / obs / | se eps
msfa pure 1  obs 0  proc 0  | gen / obs / | se eps
type states 54      lams 1 called 1 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    pure 1  obs 0  proc 0  | gen / obs / | se eps
sa   pure 1  obs 0  proc 0  | gen / obs / | se eps
sfa  pure 1  obs 0  proc 0  | gen / obs / | se eps
msfa pure 1  obs 0  proc 0  | gen / obs / | se eps
nqueens
conc states 2622    lams 6 called 6 | call eps   esc eps   fresh eps   fresh-esc eps   | 2
a    pure 6  obs 0  proc 0  | gen / obs / | se eps
sa   pure 6  obs 0  proc 0  | gen / obs / | se eps
sfa  pure 6  obs 0  proc 0  | gen / obs / | se eps
msfa pure 6  obs 0  proc 0  | gen / obs / | se eps
type states 658     lams 6 called 6 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    pure 6  obs 0  proc 0  | gen / obs / | se eps
sa   pure 6  obs 0  proc 0  | gen / obs / | se eps
sfa  pure 6  obs 0  proc 0  | gen / obs / | se eps
msfa pure 6  obs 0  proc 0  | gen / obs / | se eps
dderiv
conc states 2846    lams 20 called 10 | call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    pure 9  obs 0  proc 1  | gen / obs / | se eps
sa   pure 9  obs 0  proc 1  | gen / obs / | se eps
sfa  pure 9  obs 0  proc 1  | gen / obs / | se eps
msfa pure 9  obs 0  proc 1  | gen / obs / | se eps
type states 5927    lams 20 called 14 | call 2''   esc 2''   fresh 1''   fresh-esc 1''   | #<set: BOOL>
a    pure 5  obs 8  proc 1  | gen / obs / | se 2''
sa   pure 5  obs 8  proc 1  | gen / obs / | se 1''
sfa  pure 5  obs 8  proc 1  | gen / obs / | se 2''
msfa pure 5  obs 8  proc 1  | gen / obs / | se 2''
destruct
conc states 2251    lams 11 called 11 | call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 119)
a    pure 3  obs 1  proc 7  | gen / obs / | se eps
sa   pure 3  obs 1  proc 7  | gen / obs / | se eps
sfa  pure 3  obs 1  proc 7  | gen / obs / | se eps
msfa pure 3  obs 1  proc 7  | gen / obs / | se 1''
type states 1984    lams 11 called 11 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: #(struct:addr (cons #(struct:«quo» 100 ()) _a19)) ()>
a    pure 3  obs 1  proc 7  | gen / obs / | se eps
sa   pure 3  obs 1  proc 7  | gen / obs / | se eps
sfa  pure 3  obs 1  proc 7  | gen / obs / | se eps
msfa pure 3  obs 1  proc 7  | gen / obs / | se eps
grid
conc states 1990    lams 5 called 5 | call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    pure 2  obs 1  proc 2  | gen / obs / | se eps
sa   pure 2  obs 1  proc 2  | gen / obs / | se eps
sfa  pure 2  obs 1  proc 2  | gen / obs / | se eps
msfa pure 2  obs 1  proc 2  | gen / obs / | se eps
type states 1256    lams 5 called 5 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    pure 1  obs 1  proc 3  | gen / obs / | se eps
sa   pure 1  obs 1  proc 3  | gen / obs / | se eps
sfa  pure 1  obs 1  proc 3  | gen / obs / | se eps
msfa pure 2  obs 1  proc 2  | gen / obs / | se eps
mceval
conc states 9107    lams 87 called 72 | call 20''  esc eps   fresh 4''   fresh-esc 4''   | 2
a    pure 60 obs 2  proc 10 | gen / obs / | se 5''
sa   pure 60 obs 2  proc 10 | gen / obs / | se 5''
sfa  pure 60 obs 2  proc 10 | gen / obs / | se 5''
msfa pure 60 obs 2  proc 10 | gen / obs / | se 8''
type states 87593   lams 87 called 85 | call 1483'' esc 2441'' fresh 100'' fresh-esc 100'' | #<set: #<prim2> #<prim2> #<prim2> #(struct:addr (cons _p2 _p4)) #(struct
a    pure 13 obs 59 proc 13 | gen / obs / | se 879''
sa   pure 13 obs 59 proc 13 | gen / obs / | se 822''
sfa  pure 13 obs 59 proc 13 | gen / obs / | se 832''
msfa pure 13 obs 59 proc 13 | gen / obs / | se 832''

local
test-fib
conc states 701     lams 1 called 1 | call eps   esc eps   fresh eps   fresh-esc eps   | 21
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps  
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps  
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps  
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps  
type states 63      lams 1 called 1 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps  
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps  
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps  
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps  
test-nqueens
conc states 2622    lams 6 called 6 | call eps   esc eps   fresh eps   fresh-esc eps   | 2
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps  
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps  
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps  
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps  
type states 601     lams 6 called 6 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps  
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps  
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps  
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps  
test-dderiv
conc states 2846    lams 20 called 10 | call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps  
sa   OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps  
sfa  OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps  
msfa OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps  
type states 1298    lams 20 called 10 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 7  obs 2  proc 1  | gen 1  obs 3  | se eps  
sa   NOK  pure 7  obs 2  proc 1  | gen 1  obs 3  | se eps  
sfa  NOK  pure 7  obs 2  proc 1  | gen 1  obs 3  | se eps  
msfa NOK  pure 7  obs 2  proc 1  | gen 1  obs 3  | se eps  
test-destruct
conc states 2251    lams 11 called 11 | call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 119)
a    OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps  
sa   OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps  
sfa  OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps  
msfa OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps  
type states 1286    lams 11 called 11 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: #(struct:addr (cons #(struct:«quo» 100 ()) _a19)) ()>
a    NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps  
sa   NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps  
sfa  NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps  
msfa NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps  
test-grid
conc states 1990    lams 5 called 5 | call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps  
sa   OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps  
sfa  OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps  
msfa OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps  
type states 1430    lams 5 called 5 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps  
sa   NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps  
sfa  NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps  
msfa NOK  pure 2  obs 1  proc 2  | gen 2  obs 3  | se eps  
test-mceval
conc states 9107    lams 87 called 72 | call 8''   esc eps   fresh 1''   fresh-esc 1''   | 2
a    OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 2''  
sa   OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 2''  
sfa  OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 3''  
msfa OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 5''  
type states 28200   lams 87 called 85 | call 105'' esc 106'' fresh 14''  fresh-esc 14''  | #<set: #(struct:addr ((+ (fib (- n 1)) (fib (- n 2))))) #(struct:addr ((
a    NOK  pure 13 obs 59 proc 13 | gen 13 obs 72 | se 107''
sa   NOK  pure 13 obs 59 proc 13 | gen 13 obs 72 | se 103''
sfa  NOK  pure 13 obs 59 proc 13 | gen 13 obs 72 | se 105''
msfa NOK  pure 13 obs 59 proc 13 | gen 13 obs 72 | se 104''
Done.


local: testing with global Xi without timestamp in state (still global store with ti in state)
> (server-flow-test)
fac          states 32      time 5       σi 7    Ξi 1 | #<set: NUM>
fib          states 51      time 2       σi 9    Ξi 1 | #<set: NUM>
fib-mut      states 64      time 2       σi 16   Ξi 1 | #<set: NUM>
blur         states 95      time 3       σi 20   Ξi 1 | #<set: BOOL>
eta          states 40      time 0       σi 12   Ξi 1 | #<set: BOOL>
mj09         states 45      time 1       σi 11   Ξi 1 | #<set: NUM>
gcipd        states 123     time 4       σi 22   Ξi 1 | #<set: NUM>
kcfa2        states 35      time 0       σi 11   Ξi 1 | #<set: BOOL>
kcfa3        states 41      time 0       σi 14   Ξi 1 | #<set: BOOL>
rotate       states 32      time 0       σi 15   Ξi 1 | #<set: STR BOOL NUM>
loop2        states 60      time 2       σi 16   Ξi 1 | #<set: NUM>
sat          states 93      time 5       σi 24   Ξi 1 | #<set: BOOL>
collatz      states 237     time 8       σi 38   Ξi 1 | #<set: NUM>
rsa          states 445     time 24      σi 77   Ξi 1 | #<set: BOOL>
primtest     states 524     time 39      σi 59   Ξi 1 | #<set: NUM>
factor       states 239     time 10      σi 57   Ξi 1 | #<set: #(struct:addr (cons v acc)) () #(struct:addr (cons 2 _two-list5))
nqueens      states 644     time 25      σi 80   Ξi 1 | #<set: NUM>
dderiv       states 1055    time 73      σi 163  Ξi 1 | #<set: BOOL>
mceval       states 54226   time 41147   σi 4055 Ξi 1 | #<set: #(struct:addr ((+ (fib (- n 1)) (fib (- n 2))))) #(struct:addr (c


=== 20151211: after CESK opti (mono-store flag, no Xi in states); fixed cesk (set) bug
local
(full-purity-test)
conc-a    85
conc-sa   85
conc-sfa  85
conc-msfa 85
type-a    70
type-sa   73
type-sfa  78
type-msfa 79
benefits from freshness: #<mutable-set: test-purity53 test-purity47 test-treenode1 test-purity65 test-treeadd test-purity54 test-purity52 test-treeadd2 test-purity46 test-treeadd3>
benefits from escape   : #<mutable-set: test-purity67 test-grid>

==== 20151212: relaxing of freshness (FRESH unless explicitly UNFRESH); removed some stuff from se-analysis (no checking of Fi)
conc-a    86
conc-sa   86
conc-sfa  86
conc-msfa 86
type-a    71
type-sa   74
type-sfa  80
type-msfa 81
benefits from freshness: (10) #<mutable-set: test-treeadd3 test-purity53 test-treenode1 test-purity47 test-purity65 test-treeadd test-purity54 test-purity52 test-treeadd2 test-purity46>
benefits from escape   : (2) #<mutable-set: test-purity67 test-grid>
benefits from both     : (0) #<mutable-set:>

(conc-eval '(let ((v (make-vector 10 1))) (let ((vv (vector-copy v))) (vector-ref vv 3))))

====  20151214
Removed pops from CESK (again): introduces extra control-flow at revisited states, should only produce control-flow when actually revisiting those states
conc-a    87
conc-sa   87
conc-sfa  87
conc-msfa 87
type-a    72
type-sa   75
type-sfa  80
type-msfa 81
benefits from freshness: (10) #<mutable-set: test-treeadd3 test-purity53 test-treenode1 test-purity47 test-purity65 test-treeadd test-purity54 test-purity52 test-treeadd2 test-purity46>
benefits from escape   : (2) #<mutable-set: test-purity67 test-grid>
benefits from both     : (0) #<mutable-set:>

=== 20151217

"server" now bertha instead of wilma

server
> (a-se (conc-mach boyer))
call-state analysis... 3580710 ms
a-side-effect analysis... 563687 ms
(lambda () (let ((_lst69 #(struct:«quo» 883 ((equa #<set: OBS GEN>
(lambda (p) (let ((_p0 (cdr p))) (let ((_p1 (cdr _ #<set:>
(lambda () (let ((_ans77 #f)) (let ((_term78 #f))  #<set: OBS GEN>
(lambda (_term158 _term259) (let ((_$154 (set! _un #<set: OBS GEN>
(lambda (_term41) (let ((_p126 (pair? _term41))) ( #<set: OBS GEN>
(lambda (p) (let ((_p0 (cdr p))) (car _p0))) #<set:>
(lambda (_k1 _l2) (let ((_p89 (null? _l2))) (if _p #<set:>
(lambda (_name13) (let ((_p98 (car _*lastlook*7))) #<set: OBS GEN>
(lambda (_name16 _prop17) (let ((_r18 (_nameprop12 #<set: OBS GEN>
(lambda (p) (let ((_p0 (car p))) (car _p0))) #<set:>
(lambda (_term185 _term286) (let ((_p216 (pair? _t #<set: OBS GEN>
(lambda (_name35 _prop36) (let ((_res37 (_get15 _n #<set: OBS GEN>
(lambda (x1 x2) (let ((_b_t2 (pair? x1))) (if _b_t #<set:>
(lambda (_lst187 _lst288) (let ((_p232 (null? _lst #<set: OBS GEN>
(lambda (_alist46 _term47) (letrec ((_apply-subst- #<set: OBS GEN>
(lambda (_x75) (let ((_p195 (_rewrite61 _x75))) (_ #<set: OBS GEN>
(lambda (_name21 _prop22 _valu23) (let ((_r24 (_na #<set: OBS GEN>
(lambda (_term62) (letrec ((_rewrite-args63 (lambd #<set: OBS GEN>
(lambda (_lst44) (let ((_p137 (null? _lst44))) (if #<set: OBS GEN>
(lambda (_alist49 _lst50) (let ((_p141 (null? _lst #<set: OBS GEN>
(lambda (_lst64) (let ((_p155 (null? _lst64))) (if #<set: OBS GEN>
(lambda (_term66 _lst67) (let ((_p160 (null? _lst6 #<set: OBS GEN>
(list
 (set)
 (set)
 (set)
 #f
 #f
 #f
 (set)
 #f
 #f
 (set)
 #f
 #f
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 #f
 #f
 #f
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 #f
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 #f
 (set "OBS" "GEN")
 (set "OBS" "GEN")
 #f
 #f
 (set "OBS" "GEN")
 (set "OBS" "GEN"))

==== 20151222

(define p '((lambda (f) (let ((id5 (lambda (y) (let ((u (let ((r (cons y y))) (if #t (lambda (z) (let ((uu (if #t r (cons y y)))) z)) f)))) y)))) (id5 id5))) 123))

is `id5` in talpin1994type
Zonder side-effects met `a-se`
Cannot be handled by 4.4 (p 292) 

Filtering out procs that are not called in conc.

server:
> (server-purity-test)
test-fib
conc states 735     lams 1 called 1 | call eps   esc eps   fresh eps   fresh-esc eps   | 21
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps
type states 20      lams 1 called 1 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps
test-nqueens
conc states 2704    lams 6 called 6 | call eps   esc eps   fresh eps   fresh-esc eps   | 2
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps
type states 133     lams 6 called 6 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps
test-dderiv
conc states 2871    lams 20 called 10 | call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps
sa   OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps
sfa  OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps
msfa OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps
type states 349     lams 20 called 14 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps
sa   NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps
sfa  NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps
msfa NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps
test-destruct
conc states 2292    lams 11 called 11 | call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 125)
a    OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps
sa   OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps
sfa  OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps
msfa OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps
type states 235     lams 11 called 11 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: #(struct:addr (cons #(struct:«quo» 100 ()) _a19)) ()>
a    NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps
sa   NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps
sfa  NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps
msfa NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps
test-grid
conc states 2019    lams 5 called 5 | call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps
sa   OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps
sfa  OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps
msfa OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps
type states 239     lams 5 called 5 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps
sa   NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps
sfa  NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps
msfa NOK  pure 2  obs 1  proc 2  | gen 2  obs 3  | se eps
test-mceval
conc states 9223    lams 87 called 72 | call 10''  esc eps   fresh 1''   fresh-esc 1''   | 2
a    OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 3''
sa   OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 3''
sfa  OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 3''
msfa OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 5''
type states 1327    lams 87 called 85 | call 17''  esc 35''  fresh 7''   fresh-esc 7''   | #<set: #(struct:addr ((set! fib (lambda (n) (if (< n 2) n (+ (fib (- n 1
a    NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 1196''
sa   NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 1133''
sfa  NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 1148''
msfa NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 1145''
test-treeadd
conc states 696     lams 3 called 3 | call eps   esc eps   fresh eps   fresh-esc eps   | 15
a    OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps
type states 68      lams 3 called 3 | call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    NOK  pure 2  obs 0  proc 1  | gen 1  obs 1  | se eps
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps
conc-a    7
conc-sa   7
conc-sfa  7
conc-msfa 7
type-a    2
type-sa   3
type-sfa  3
type-msfa 3
benefits from freshness: (1) #<mutable-set: test-treeadd>
benefits from escape   : (1) #<mutable-set: test-grid>
benefits from both     : (0) #<mutable-set:>

===- 20151225
Revamped into side-effects truly + purity for summaries

> (full-purity-test)
conc-a    87
conc-sa   87
conc-sfa  87
conc-msfa 87
type-a    72
type-sa   75
type-sfa  80
type-msfa 81
benefits from freshness: (10) #<mutable-set: test-purity65 test-treeadd test-purity54 test-purity52 test-treeadd2 test-purity46 test-treeadd3 test-purity53 test-treenode1 test-purity47>
benefits from escape   : (2) #<mutable-set: test-purity67 test-grid>
benefits from both     : (0) #<mutable-set:>

server
> (server-purity-test)

test-fib
conc states 735     lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 21
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
type states 20      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
test-nqueens
conc states 2704    lams 6 called 6 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 2
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
type states 133     lams 6 called 6 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
test-dderiv
conc states 2871    lams 20 called 10 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps
sa   OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps
sfa  OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps
msfa OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps
type states 337     lams 20 called 14 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps
sa   NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps
sfa  NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps
msfa NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity epstest-destruct
conc states 2292    lams 11 called 11 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 125)
a    OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps   purity eps
sa   OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps   purity eps
sfa  OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps   purity eps
msfa OK   pure 3  obs 1  proc 7  | gen 7  obs 5  | se eps   purity eps
type states 235     lams 11 called 11 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: #(struct:addr (cons #(struct:«quo» 100 ()) _a19)) ()>
a    NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps
sa   NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps
sfa  NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps
msfa NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps
test-grid
conc states 2019    lams 5 called 5 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps
sa   OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps
sfa  OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps
msfa OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps
type states 239     lams 5 called 5 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps
sa   NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps
sfa  NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps
msfa NOK  pure 2  obs 1  proc 2  | gen 2  obs 3  | se eps   purity eps
test-mceval
conc states 9223    lams 87 called 72 | flow 1''   call 10''  esc eps   fresh 1''   fresh-esc 1''   | 2
a    OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 3''   purity eps
sa   OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 4''   purity eps
sfa  OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 4''   purity eps
msfa OK   pure 60 obs 2  proc 10 | gen 10 obs 8  | se 5''   purity eps
type states 1327    lams 87 called 85 | flow 68''  call 17''  esc 35''  fresh 7''   fresh-esc 7''   | #<set: #(struct:addr ((set! fib (lambda (n) (if (< n 2) n (+ (fib (- n 1
a    NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 39''  purity 118''
sa   NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 39''  purity 113''
sfa  NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 39''  purity 114''
msfa NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 39''  purity 113''
test-treeadd
conc states 696     lams 3 called 3 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 15
a    OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
type states 68      lams 3 called 3 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    NOK  pure 2  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps
conc-a    7
conc-sa   7
conc-sfa  7
conc-msfa 7
type-a    2
type-sa   3
type-sfa  3
type-msfa 3
benefits from freshness: (1) #<mutable-set: test-treeadd>
benefits from escape   : (1) #<mutable-set: test-grid>
benefits from both     : (0) #<mutable-set:>

==== 20151229
Fixed OBS bug: only add OBS if R(res) observable for (...,lam,...) and lam in Obs(res).

conc-a    87
conc-sa   87
conc-sfa  87
conc-msfa 87
type-a    72
type-sa   75
type-sfa  80
type-msfa 81
benefits from freshness: (10) #<mutable-set: test-purity65 test-treeadd test-purity54 test-purity52 test-treeadd2 test-purity46 test-treeadd3 test-purity53 test-treenode1 test-purity47>
benefits from escape   : (2) #<mutable-set: test-purity67 test-grid>
benefits from both     : (0) #<mutable-set:>

local
test-fib
conc states 735     lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 21
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 20      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-nqueens
conc states 2704    lams 6 called 6 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 2
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 133     lams 6 called 6 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-dderiv
conc states 2871    lams 20 called 10 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
sa   OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
sfa  OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
msfa OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
type states 344     lams 20 called 14 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps   
sa   NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps   
sfa  NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps   
msfa NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps   
test-destruct
conc states 2292    lams 11 called 11 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 125)
a    OK   pure 3  obs 1  proc 7  | gen 7  obs 4  | se eps   purity eps   
sa   OK   pure 3  obs 1  proc 7  | gen 7  obs 4  | se eps   purity eps   
sfa  OK   pure 3  obs 1  proc 7  | gen 7  obs 4  | se eps   purity eps   
msfa OK   pure 3  obs 1  proc 7  | gen 7  obs 4  | se eps   purity eps   
type states 235     lams 11 called 11 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: #(struct:addr (cons #(struct:«quo» 100 ()) _a19)) ()>
a    NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps   
sa   NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps   
sfa  NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps   
msfa NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps   
test-grid
conc states 2019    lams 5 called 5 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps   
sa   OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps   
sfa  OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps   
msfa OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps   
type states 239     lams 5 called 5 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps   
sa   NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps   
sfa  NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps   
msfa NOK  pure 2  obs 1  proc 2  | gen 2  obs 3  | se eps   purity eps   
test-mceval
conc states 9223    lams 87 called 72 | flow eps   call 7''   esc eps   fresh eps   fresh-esc eps   | 2
a    OK   pure 60 obs 2  proc 10 | gen 10 obs 7  | se 2''   purity eps   
sa   OK   pure 60 obs 2  proc 10 | gen 10 obs 7  | se 3''   purity eps   
sfa  OK   pure 60 obs 2  proc 10 | gen 10 obs 7  | se 2''   purity eps   
msfa OK   pure 60 obs 2  proc 10 | gen 10 obs 7  | se 4''   purity eps   
type states 1416    lams 87 called 85 | flow 54''  call 13''  esc 28''  fresh 5''   fresh-esc 5''   | #<set: #(struct:addr (cons _body92 _p217)) #(struct:addr (< n 2)) #(stru
a    NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 30''  purity 62''  
sa   NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 29''  purity 61''  
sfa  NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 29''  purity 61''  
msfa NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 29''  purity 61''  
test-treeadd
conc states 696     lams 3 called 3 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 15
a    OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 68      lams 3 called 3 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    NOK  pure 2  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
conc-a    7
conc-sa   7
conc-sfa  7
conc-msfa 7
type-a    2
type-sa   3
type-sfa  3
type-msfa 3
benefits from freshness: (1) #<mutable-set: test-treeadd>
benefits from escape   : (1) #<mutable-set: test-grid>
benefits from both     : (0) #<mutable-set:>


==== 20160118 
local noUI
test-fib
conc states 735     lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 21
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 20      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-treenode1
conc states 68      lams 2 called 2 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 85)
a    OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 28      lams 2 called 2 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: #(struct:addr (cons 1 2))>
a    NOK  pure 0  obs 0  proc 2  | gen 2  obs 1  | se eps   purity eps   
sa   NOK  pure 0  obs 0  proc 2  | gen 2  obs 0  | se eps   purity eps   
sfa  OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-treeadd
conc states 696     lams 3 called 3 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 15
a    OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 68      lams 3 called 3 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    NOK  pure 2  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-treeadd2
conc states 1028    lams 3 called 3 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 15
a    OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 3  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 81      lams 3 called 3 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    NOK  pure 1  obs 0  proc 2  | gen 2  obs 1  | se eps   purity eps   
sa   NOK  pure 1  obs 1  proc 1  | gen 1  obs 1  | se eps   purity eps   
sfa  NOK  pure 1  obs 1  proc 1  | gen 1  obs 1  | se eps   purity eps   
msfa NOK  pure 1  obs 1  proc 1  | gen 1  obs 1  | se eps   purity eps   
test-treeadd3
conc states 847     lams 2 called 2 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 15
a    OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 2  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 69      lams 2 called 2 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    NOK  pure 0  obs 0  proc 2  | gen 2  obs 1  | se eps   purity eps   
sa   NOK  pure 0  obs 1  proc 1  | gen 1  obs 1  | se eps   purity eps   
sfa  NOK  pure 1  obs 1  proc 0  | gen 0  obs 1  | se eps   purity eps   
msfa NOK  pure 1  obs 1  proc 0  | gen 0  obs 1  | se eps   purity eps   
test-purity46
conc states 53      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | done
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 16      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: SYM>
a    NOK  pure 0  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-purity47
conc states 53      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | done
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 16      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: SYM>
a    NOK  pure 0  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-purity52
conc states 65      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | done
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 19      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: SYM>
a    NOK  pure 0  obs 0  proc 1  | gen 1  obs 0  | se eps   purity eps   
sa   NOK  pure 0  obs 0  proc 1  | gen 1  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-purity53
conc states 65      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | done
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 19      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: SYM>
a    NOK  pure 0  obs 0  proc 1  | gen 1  obs 0  | se eps   purity eps   
sa   NOK  pure 0  obs 0  proc 1  | gen 1  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-purity54
conc states 77      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 54)
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 23      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: SYM #(struct:addr (cons 1 2))>
a    NOK  pure 0  obs 0  proc 1  | gen 1  obs 0  | se eps   purity eps   
sa   NOK  pure 0  obs 0  proc 1  | gen 1  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-purity65
conc states 20      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 53)
a    OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 20      lams 1 called 1 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: SYM #(struct:addr (cons 1 2))>
a    NOK  pure 0  obs 0  proc 1  | gen 1  obs 0  | se eps   purity eps   
sa   NOK  pure 0  obs 0  proc 1  | gen 1  obs 0  | se eps   purity eps   
sfa  OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 1  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-nqueens
conc states 2704    lams 6 called 6 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 2
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
type states 133     lams 6 called 6 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: NUM>
a    OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sa   OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
sfa  OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
msfa OK   pure 6  obs 0  proc 0  | gen 0  obs 0  | se eps   purity eps   
test-dderiv
conc states 2871    lams 20 called 10 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
sa   OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
sfa  OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
msfa OK   pure 9  obs 0  proc 1  | gen 1  obs 1  | se eps   purity eps   
type states 342     lams 20 called 14 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps   
sa   NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps   
sfa  NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps   
msfa NOK  pure 3  obs 6  proc 1  | gen 1  obs 7  | se eps   purity eps   
test-destruct
conc states 2292    lams 11 called 11 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #(struct:addr 125)
a    OK   pure 3  obs 1  proc 7  | gen 7  obs 4  | se eps   purity eps   
sa   OK   pure 3  obs 1  proc 7  | gen 7  obs 4  | se eps   purity eps   
sfa  OK   pure 3  obs 1  proc 7  | gen 7  obs 4  | se eps   purity eps   
msfa OK   pure 3  obs 1  proc 7  | gen 7  obs 4  | se eps   purity eps   
type states 235     lams 11 called 11 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: #(struct:addr (cons #(struct:«quo» 100 ()) _a19)) ()>
a    NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps   
sa   NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps   
sfa  NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps   
msfa NOK  pure 3  obs 1  proc 7  | gen 7  obs 8  | se eps   purity eps   
test-grid
conc states 2019    lams 5 called 5 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #t
a    OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps   
sa   OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps   
sfa  OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps   
msfa OK   pure 2  obs 1  proc 2  | gen 2  obs 1  | se eps   purity eps   
type states 239     lams 5 called 5 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL>
a    NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps   
sa   NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps   
sfa  NOK  pure 1  obs 1  proc 3  | gen 3  obs 4  | se eps   purity eps   
msfa NOK  pure 2  obs 1  proc 2  | gen 2  obs 3  | se eps   purity eps   
test-mceval
conc states 9223    lams 87 called 72 | flow eps   call 7''   esc eps   fresh eps   fresh-esc eps   | 2
a    OK   pure 60 obs 2  proc 10 | gen 10 obs 7  | se 2''   purity eps   
sa   OK   pure 60 obs 2  proc 10 | gen 10 obs 7  | se 2''   purity eps   
sfa  OK   pure 60 obs 2  proc 10 | gen 10 obs 7  | se 3''   purity eps   
msfa OK   pure 60 obs 2  proc 10 | gen 10 obs 7  | se 4''   purity eps   
type states 1359    lams 87 called 85 | flow 60''  call 16''  esc 34''  fresh 5''   fresh-esc 5''   | #<set: #(struct:addr ((- n 1))) #(struct:addr (n)) #(struct:addr (cons _
a    NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 21''  purity 43''  
sa   NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 21''  purity 43''  
sfa  NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 21''  purity 39''  
msfa NOK  pure 10 obs 49 proc 13 | gen 13 obs 62 | se 19''  purity 38''  
test-fannkuch
conc states 8990    lams 16 called 16 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | 4
a    OK   pure 5  obs 2  proc 9  | gen 9  obs 10 | se eps   purity eps   
sa   OK   pure 5  obs 2  proc 9  | gen 9  obs 10 | se 1''   purity eps   
sfa  OK   pure 5  obs 2  proc 9  | gen 9  obs 10 | se 1''   purity eps   
msfa OK   pure 5  obs 2  proc 9  | gen 9  obs 10 | se 2''   purity eps   
type states 236     lams 16 called 16 | flow eps   call eps   esc eps   fresh eps   fresh-esc eps   | #<set: BOOL NUM>
a    OK   pure 5  obs 2  proc 9  | gen 9  obs 10 | se eps   purity eps   
sa   OK   pure 5  obs 2  proc 9  | gen 9  obs 10 | se eps   purity eps   
sfa  OK   pure 5  obs 2  proc 9  | gen 9  obs 10 | se eps   purity eps   
msfa OK   pure 5  obs 2  proc 9  | gen 9  obs 10 | se eps   purity eps   
conc-a    17
conc-sa   17
conc-sfa  17
conc-msfa 17
type-a    3
type-sa   6
type-sfa  11
type-msfa 11
benefits from freshness: (10) #<mutable-set: test-purity54 test-purity52 test-treeadd2 test-purity46 test-treeadd3 test-purity53 test-treenode1 test-purity47 test-purity65 test-treeadd>
benefits from escape   : (1) #<mutable-set: test-grid>
benefits from both     : (0) #<mutable-set:>


JS bertha
sunspider/access-nbody.js      flowTime 0'00" funs 11   called  11   a  time 0'00" pure 1    obs 1    proc 9    fa time 0'00" pure 6    obs 1    proc 4   
sunspider/controlflow-recursiv flowTime 0'00" funs 3    called  3    a  time 0'00" pure 3    obs 0    proc 0    fa time 0'00" pure 3    obs 0    proc 0   
sunspider/crypto-sha1.js       flowTime 0'00" funs 17   called  8    a  time 0'00" pure 6    obs 0    proc 2    fa time 0'00" pure 7    obs 0    proc 1   
sunspider/math-spectral-norm.j flowTime 0'00" funs 5    called  5    a  time 0'00" pure 2    obs 0    proc 3    fa time 0'00" pure 2    obs 0    proc 3   
jolden/tree-add.js             flowTime 0'00" funs 8    called  6    a  time 0'00" pure 1    obs 0    proc 5    fa time 0'00" pure 3    obs 1    proc 2   
octane/navier-stokes.js        flowTime 2'50" funs 36   called  29   a  time 5'25" pure 3    obs 1    proc 25   fa time 4'54" pure 3    obs 1    proc 25  
octane/richards.js             flowTime 4'21" funs 38   called  32   a  time 1'29" pure 4    obs 1    proc 27   fa time 1'08" pure 8    obs 1    proc 23 

grid:
(list (set) (set) (set "GEN") (set "OBS") (set "GEN"))
(list (set) (set) (set "GEN") (set)       (set "GEN"))



==== 
20160213
Normal
benchmarks
\code{fib           } & 42     & 1   & 0   & 0   & 0   & 0   & 0   & 0  \\
\code{treenode1     } & 58     & 2   & 2   & 1   & 1   & 0   & 0   & 0  \\
\code{treeadd       } & 131    & 3   & 2   & 2   & 0   & 0   & 0   & 0  \\
\code{treeadd2      } & 138    & 3   & 2   & 2   & 1   & 1   & 0   & 0  \\
\code{treeadd3      } & 119    & 2   & 2   & 1   & 1   & 1   & 0   & 0  \\
\code{purity46      } & 29     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity47      } & 32     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity52      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity53      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity54      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity65      } & 29     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{nqueens       } & 247    & 6   & 0   & 4   & 0   & 0   & 0   & 0  \\
\code{dderiv        } & 616    & 20  & 1   & 29  & 0   & 2   & 0   & 0  \\
\code{destruct      } & 420    & 11  & 0   & 3   & 4   & 3   & 0   & 0  \\
\code{grid          } & 382    & 5   & 3   & 3   & 0   & 0   & 1   & 2  \\
\code{fannkuch      } & 500    & 16  & 10  & 0   & 0   & 0   & 2   & 7  \\
\code{mceval        } & 1687   & 87  & 0   & 28  & 3   & 1   & 0   & 0  \\
flow-conc
\code{fib           } & 735     & 734     & 100.0\% & \eps \\
\code{treenode1     } & 68      & 67      & 100.0\% & \eps \\
\code{treeadd       } & 696     & 695     & 100.0\% & \eps \\
\code{treeadd2      } & 1028    & 1027    & 100.0\% & \eps \\
\code{treeadd3      } & 847     & 846     & 100.0\% & \eps \\
\code{purity46      } & 53      & 52      & 100.0\% & \eps \\
\code{purity47      } & 53      & 52      & 100.0\% & \eps \\
\code{purity52      } & 65      & 64      & 100.0\% & \eps \\
\code{purity53      } & 65      & 64      & 100.0\% & \eps \\
\code{purity54      } & 77      & 76      & 100.0\% & \eps \\
\code{purity65      } & 20      & 19      & 100.0\% & \eps \\
\code{nqueens       } & 2704    & 2703    & 100.0\% & \eps \\
\code{dderiv        } & 2871    & 2870    & 63.15\% & \eps \\
\code{destruct      } & 2292    & 2291    & 95.95\% & \eps \\
\code{grid          } & 2019    & 2018    & 89.53\% & \eps \\
\code{fannkuch      } & 8990    & 8989    & 99.8\%  & \eps \\
\code{mceval        } & 9223    & 9222    & 83.17\% & \eps \\
flow-type
\code{fib           } & 20      & 30      & 100.0\% & \eps \\
\code{treenode1     } & 28      & 33      & 100.0\% & \eps \\
\code{treeadd       } & 69      & 99      & 100.0\% & \eps \\
\code{treeadd2      } & 81      & 115     & 100.0\% & \eps \\
\code{treeadd3      } & 68      & 102     & 100.0\% & \eps \\
\code{purity46      } & 16      & 18      & 100.0\% & \eps \\
\code{purity47      } & 16      & 18      & 100.0\% & \eps \\
\code{purity52      } & 19      & 21      & 100.0\% & \eps \\
\code{purity53      } & 19      & 21      & 100.0\% & \eps \\
\code{purity54      } & 23      & 30      & 100.0\% & \eps \\
\code{purity65      } & 20      & 27      & 100.0\% & \eps \\
\code{nqueens       } & 135     & 204     & 100.0\% & \eps \\
\code{dderiv        } & 334     & 909     & 90.42\% & \eps \\
\code{destruct      } & 245     & 375     & 100.0\% & \eps \\
\code{grid          } & 237     & 426     & 93.46\% & \eps \\
\code{fannkuch      } & 236     & 371     & 100.0\% & \eps \\
\code{mceval        } & 1265    & 16170   & 97.45\% & 23'' \\
se-a-conc
\code{fib           } & \eps  & 599   & 2914  & 1096 \\
\code{treenode1     } & \eps  & 44    & 96    & 18   \\
\code{treeadd       } & \eps  & 502   & 1561  & 511  \\
\code{treeadd2      } & \eps  & 674   & 2208  & 687  \\
\code{treeadd3      } & \eps  & 554   & 1801  & 540  \\
\code{purity46      } & \eps  & 40    & 105   & 35   \\
\code{purity47      } & \eps  & 40    & 105   & 35   \\
\code{purity52      } & \eps  & 48    & 125   & 35   \\
\code{purity53      } & \eps  & 48    & 125   & 35   \\
\code{purity54      } & \eps  & 44    & 115   & 35   \\
\code{purity65      } & \eps  & 8     & 8     & 1    \\
\code{nqueens       } & \eps  & 2253  & 16703 & 4764 \\
\code{dderiv        } & \eps  & 2432  & 18740 & 6658 \\
\code{destruct      } & \eps  & 1810  & 16076 & 5468 \\
\code{grid          } & \eps  & 1511  & 9018  & 2580 \\
\code{fannkuch      } & \eps  & 8933  & 154119 & 56790\\
\code{mceval        } & 2''   & 8308  & 149836 & 52915\\
se-a-type
\code{fib           } & \eps  & 17    & 16    & 15   \\
\code{treenode1     } & \eps  & 19    & 23    & 14   \\
\code{treeadd       } & \eps  & 56    & 57    & 44   \\
\code{treeadd2      } & \eps  & 56    & 54    & 47   \\
\code{treeadd3      } & \eps  & 48    & 45    & 40   \\
\code{purity46      } & \eps  & 11    & 10    & 7    \\
\code{purity47      } & \eps  & 11    & 10    & 6    \\
\code{purity52      } & \eps  & 13    & 12    & 7    \\
\code{purity53      } & \eps  & 13    & 12    & 7    \\
\code{purity54      } & \eps  & 12    & 11    & 11   \\
\code{purity65      } & \eps  & 8     & 7     & 6    \\
\code{nqueens       } & \eps  & 144   & 357   & 150  \\
\code{dderiv        } & \eps  & 929   & 2663  & 1969 \\
\code{destruct      } & \eps  & 231   & 769   & 253  \\
\code{grid          } & \eps  & 378   & 503   & 416  \\
\code{fannkuch      } & \eps  & 205   & 746   & 260  \\
\code{mceval        } & 14''  & 16342 & 183557 & 170968\\
se-percs
\code{fib           } & 93.75\% & 37.5\%  & 37.5\%  & 37.5\%  & (37.61\%)\\
\code{treenode1     } & 60.87\% & 26.09\% & 17.39\% & 17.39\% & (18.75\%)\\
\code{treeadd       } & 77.19\% & 31.58\% & 31.58\% & 31.58\% & (32.74\%)\\
\code{treeadd2      } & 87.04\% & 33.33\% & 31.48\% & 31.48\% & (31.11\%)\\
\code{treeadd3      } & 88.89\% & 31.11\% & 26.67\% & 26.67\% & (29.98\%)\\
\code{purity46      } & 70.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity47      } & 60.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity52      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity53      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity54      } & 100.0\% & 36.36\% & 27.27\% & 27.27\% & (30.43\%)\\
\code{purity65      } & 85.71\% & 28.57\% & 14.29\% & 14.29\% & (12.5\% )\\
\code{nqueens       } & 42.02\% & 29.41\% & 29.41\% & 29.41\% & (28.52\%)\\
\code{dderiv        } & 73.94\% & 60.83\% & 60.83\% & 60.83\% & (35.53\%)\\
\code{destruct      } & 32.9\%  & 30.04\% & 30.04\% & 30.04\% & (34.01\%)\\
\code{grid          } & 82.7\%  & 67.0\%  & 67.0\%  & 65.21\% & (28.61\%)\\
\code{fannkuch      } & 34.85\% & 32.04\% & 32.04\% & 31.9\%  & (36.85\%)\\
\code{mceval        } & 93.14\% & 92.63\% & 92.63\% & 92.62\% & (35.32\%)\\
se-obs
\code{fib           } & 30   & 12   & 12   & 6    & (1096)\\
\code{treenode1     } & 26   & 10   & 8    & 4    & (18)\\
\code{treeadd       } & 88   & 36   & 36   & 18   & (511)\\
\code{treeadd2      } & 94   & 36   & 34   & 17   & (687)\\
\code{treeadd3      } & 80   & 28   & 24   & 12   & (540)\\
\code{purity46      } & 14   & 6    & 6    & 3    & (35)\\
\code{purity47      } & 12   & 6    & 6    & 3    & (35)\\
\code{purity52      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity53      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity54      } & 22   & 8    & 6    & 3    & (35)\\
\code{purity65      } & 12   & 4    & 2    & 1    & (1)\\
\code{nqueens       } & 252  & 162  & 162  & 105  & (4764)\\
\code{dderiv        } & 2707 & 2273 & 2273 & 2259 & (6658)\\
\code{destruct      } & 367  & 323  & 323  & 231  & (5468)\\
\code{grid          } & 688  & 566  & 566  & 328  & (2580)\\
\code{fannkuch      } & 357  & 315  & 315  & 291  & (56790)\\
\code{mceval        } & 173762 & 172646 & 172646 & 170767 & (52915)\\
se-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & \eps  & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 14''  & 14'' \\
escape
\code{fib           } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{treenode1     } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{treeadd       } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd2      } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd3      } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{purity46      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity47      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity52      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity53      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity54      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity65      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{nqueens       } & 6    & 6    (6   ) & 0    (0   ) & \eps \\
\code{dderiv        } & 20   & 14   (10  ) & 19   (19  ) & \eps \\
\code{destruct      } & 11   & 11   (11  ) & 0    (0   ) & \eps \\
\code{grid          } & 5    & 5    (5   ) & 0    (0   ) & \eps \\
\code{fannkuch      } & 16   & 16   (16  ) & 10   (10  ) & \eps \\
\code{mceval        } & 87   & 85   (72  ) & 72   (72  ) & 15'' \\
type-fresh
\code{fib           } & 44.31\% & \eps  & 44.31\% & \eps \\
\code{treenode1     } & 56.23\% & \eps  & 62.35\% & \eps \\
\code{treeadd       } & 44.34\% & \eps  & 44.34\% & \eps \\
\code{treeadd2      } & 51.57\% & \eps  & 51.57\% & \eps \\
\code{treeadd3      } & 57.21\% & \eps  & 67.87\% & \eps \\
\code{purity46      } & 56.31\% & \eps  & 56.31\% & \eps \\
\code{purity47      } & 49.15\% & \eps  & 49.15\% & \eps \\
\code{purity52      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity53      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity54      } & 55.15\% & \eps  & 55.15\% & \eps \\
\code{purity65      } & 56.92\% & \eps  & 56.92\% & \eps \\
\code{nqueens       } & 34.83\% & \eps  & 34.83\% & \eps \\
\code{dderiv        } & 22.15\% & \eps  & 22.15\% & \eps \\
\code{destruct      } & 22.26\% & \eps  & 22.26\% & \eps \\
\code{grid          } & 37.8\%  & \eps  & 37.8\%  & \eps \\
\code{fannkuch      } & 17.87\% & \eps  & 17.87\% & \eps \\
\code{mceval        } & 4.06\%  & 4''   & 4.06\%  & 4''  \\
conc-type-esc-fresh
\code{fib           } & 41.04\% & 44.31\%\\
\code{treenode1     } & 50.73\% & 62.35\%\\
\code{treeadd       } & 32.33\% & 44.34\%\\
\code{treeadd2      } & 44.37\% & 51.57\%\\
\code{treeadd3      } & 54.6\%  & 67.87\%\\
\code{purity46      } & 60.32\% & 56.31\%\\
\code{purity47      } & 52.61\% & 49.15\%\\
\code{purity52      } & 47.18\% & 54.72\%\\
\code{purity53      } & 47.18\% & 54.72\%\\
\code{purity54      } & 55.57\% & 55.15\%\\
\code{purity65      } & 54.78\% & 56.92\%\\
\code{nqueens       } & 30.85\% & 34.83\%\\
\code{dderiv        } & 15.6\%  & 22.15\%\\
\code{destruct      } & 17.08\% & 22.26\%\\
\code{grid          } & 34.63\% & 37.8\% \\
\code{fannkuch      } & 9.2\%   & 17.87\%\\
\code{mceval        } & 3.08\%  & 4.06\% \\
conc-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 3    & 0    & 0    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 3    & 0    & 0    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 9    & 0    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 2    & 1    & 2    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 60   & 2    & 10   & 10   & 49   & 13  \\
type-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 2    & 0    & 1    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 1    & 0    & 2    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 3    & 6    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 1    & 1    & 3    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 10   & 49   & 13   & 10   & 49   & 13  \\
purity-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & \eps  & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 233'' & 249''\\
timing
\code{fib           } & \eps  & \eps  & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps  & \eps  & \eps \\
\code{purity46      } & \eps  & \eps  & \eps  & \eps \\
\code{purity47      } & \eps  & \eps  & \eps  & \eps \\
\code{purity52      } & \eps  & \eps  & \eps  & \eps \\
\code{purity53      } & \eps  & \eps  & \eps  & \eps \\
\code{purity54      } & \eps  & \eps  & \eps  & \eps \\
\code{purity65      } & \eps  & \eps  & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps  & \eps  & \eps \\
\code{dderiv        } & 1''   & 1''   & 1''   & 2''  \\
\code{destruct      } & \eps  & \eps  & \eps  & \eps \\
\code{grid          } & \eps  & \eps  & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps  & \eps  & \eps \\
\code{mceval        } & 294'' & 257'' & 261'' & 312''\\


Local With e added to free kalloc
benchmarks
\code{fib           } & 42     & 1   & 0   & 0   & 0   & 0   & 0   & 0  \\
\code{treenode1     } & 58     & 2   & 2   & 1   & 1   & 0   & 0   & 0  \\
\code{treeadd       } & 131    & 3   & 2   & 2   & 0   & 0   & 0   & 0  \\
\code{treeadd2      } & 138    & 3   & 2   & 2   & 1   & 1   & 0   & 0  \\
\code{treeadd3      } & 119    & 2   & 2   & 1   & 1   & 1   & 0   & 0  \\
\code{purity46      } & 29     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity47      } & 32     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity52      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity53      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity54      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity65      } & 29     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{nqueens       } & 247    & 6   & 0   & 4   & 0   & 0   & 0   & 0  \\
\code{dderiv        } & 616    & 20  & 1   & 29  & 0   & 2   & 0   & 0  \\
\code{destruct      } & 420    & 11  & 0   & 3   & 4   & 3   & 0   & 0  \\
\code{grid          } & 382    & 5   & 3   & 3   & 0   & 0   & 1   & 2  \\
\code{fannkuch      } & 500    & 16  & 10  & 0   & 0   & 0   & 2   & 7  \\
\code{mceval        } & 1687   & 87  & 0   & 28  & 3   & 1   & 0   & 0  \\
flow-conc
\code{fib           } & 735     & 734     & 100.0\% & \eps \\
\code{treenode1     } & 68      & 67      & 100.0\% & \eps \\
\code{treeadd       } & 696     & 695     & 100.0\% & \eps \\
\code{treeadd2      } & 1028    & 1027    & 100.0\% & \eps \\
\code{treeadd3      } & 847     & 846     & 100.0\% & \eps \\
\code{purity46      } & 53      & 52      & 100.0\% & \eps \\
\code{purity47      } & 53      & 52      & 100.0\% & \eps \\
\code{purity52      } & 65      & 64      & 100.0\% & \eps \\
\code{purity53      } & 65      & 64      & 100.0\% & \eps \\
\code{purity54      } & 77      & 76      & 100.0\% & \eps \\
\code{purity65      } & 20      & 19      & 100.0\% & \eps \\
\code{nqueens       } & 2704    & 2703    & 100.0\% & \eps \\
\code{dderiv        } & 2871    & 2870    & 63.15\% & \eps \\
\code{destruct      } & 2292    & 2291    & 95.95\% & \eps \\
\code{grid          } & 2019    & 2018    & 89.53\% & \eps \\
\code{fannkuch      } & 8990    & 8989    & 99.8\%  & \eps \\
\code{mceval        } & 9223    & 9222    & 83.17\% & \eps \\
flow-type
\code{fib           } & 54      & 78      & 100.0\% & \eps \\
\code{treenode1     } & 43      & 56      & 100.0\% & \eps \\
\code{treeadd       } & 183     & 324     & 100.0\% & \eps \\
\code{treeadd2      } & 217     & 301     & 100.0\% & \eps \\
\code{treeadd3      } & 195     & 288     & 100.0\% & \eps \\
\code{purity46      } & 29      & 34      & 100.0\% & \eps \\
\code{purity47      } & 29      & 34      & 100.0\% & \eps \\
\code{purity52      } & 35      & 40      & 100.0\% & \eps \\
\code{purity53      } & 35      & 40      & 100.0\% & \eps \\
\code{purity54      } & 42      & 52      & 100.0\% & \eps \\
\code{purity65      } & 36      & 46      & 100.0\% & \eps \\
\code{nqueens       } & 297     & 457     & 100.0\% & \eps \\
\code{dderiv        } & 744     & 2846    & 90.42\% & 2''  \\
\code{destruct      } & 462     & 712     & 100.0\% & \eps \\
\code{grid          } & 481     & 695     & 93.46\% & \eps \\
\code{fannkuch      } & 420     & 568     & 100.0\% & \eps \\
\code{mceval        } & 2797    & 27635   & 97.45\% & 145''\\
se-a-conc
\code{fib           } & \eps  & 599   & 2914  & 1096 \\
\code{treenode1     } & \eps  & 44    & 96    & 18   \\
\code{treeadd       } & \eps  & 502   & 1561  & 511  \\
\code{treeadd2      } & \eps  & 674   & 2208  & 687  \\
\code{treeadd3      } & \eps  & 554   & 1801  & 540  \\
\code{purity46      } & \eps  & 40    & 105   & 35   \\
\code{purity47      } & \eps  & 40    & 105   & 35   \\
\code{purity52      } & \eps  & 48    & 125   & 35   \\
\code{purity53      } & \eps  & 48    & 125   & 35   \\
\code{purity54      } & \eps  & 44    & 115   & 35   \\
\code{purity65      } & \eps  & 8     & 8     & 1    \\
\code{nqueens       } & \eps  & 2253  & 16703 & 4764 \\
\code{dderiv        } & \eps  & 2432  & 18740 & 6658 \\
\code{destruct      } & \eps  & 1810  & 16076 & 5468 \\
\code{grid          } & \eps  & 1511  & 9018  & 2580 \\
\code{fannkuch      } & \eps  & 8933  & 154119 & 56790\\
\code{mceval        } & 2''   & 8308  & 149836 & 52915\\
se-a-type
\code{fib           } & \eps  & 49    & 112   & 78   \\
\code{treenode1     } & \eps  & 32    & 54    & 22   \\
\code{treeadd       } & \eps  & 148   & 349   & 209  \\
\code{treeadd2      } & \eps  & 158   & 362   & 229  \\
\code{treeadd3      } & \eps  & 146   & 335   & 213  \\
\code{purity46      } & \eps  & 21    & 30    & 13   \\
\code{purity47      } & \eps  & 21    & 30    & 12   \\
\code{purity52      } & \eps  & 25    & 36    & 13   \\
\code{purity53      } & \eps  & 25    & 36    & 13   \\
\code{purity54      } & \eps  & 23    & 33    & 17   \\
\code{purity65      } & \eps  & 15    & 21    & 8    \\
\code{nqueens       } & \eps  & 317   & 1278  & 481  \\
\code{dderiv        } & \eps  & 2388  & 11437 & 8437 \\
\code{destruct      } & \eps  & 434   & 2262  & 792  \\
\code{grid          } & \eps  & 669   & 1470  & 873  \\
\code{fannkuch      } & \eps  & 385   & 1951  & 729  \\
\code{mceval        } & 81''  & 26839 & 604937 & 570000\\
se-percs
\code{fib           } & 69.64\% & 37.5\%  & 37.5\%  & 37.5\%  & (37.61\%)\\
\code{treenode1     } & 40.74\% & 25.93\% & 22.22\% & 22.22\% & (18.75\%)\\
\code{treeadd       } & 59.89\% & 32.38\% & 32.38\% & 32.38\% & (32.74\%)\\
\code{treeadd2      } & 63.26\% & 32.32\% & 31.22\% & 31.22\% & (31.11\%)\\
\code{treeadd3      } & 63.58\% & 31.34\% & 28.96\% & 28.96\% & (29.98\%)\\
\code{purity46      } & 43.33\% & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity47      } & 40.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity52      } & 36.11\% & 27.78\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity53      } & 36.11\% & 27.78\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity54      } & 51.52\% & 30.3\%  & 27.27\% & 27.27\% & (30.43\%)\\
\code{purity65      } & 38.1\%  & 19.05\% & 14.29\% & 14.29\% & (12.5\% )\\
\code{nqueens       } & 37.64\% & 29.58\% & 29.58\% & 29.58\% & (28.52\%)\\
\code{dderiv        } & 73.77\% & 62.9\%  & 62.9\%  & 62.9\%  & (35.53\%)\\
\code{destruct      } & 35.01\% & 34.0\%  & 34.0\%  & 34.0\%  & (34.01\%)\\
\code{grid          } & 59.39\% & 51.56\% & 51.56\% & 49.66\% & (28.61\%)\\
\code{fannkuch      } & 37.37\% & 36.29\% & 36.29\% & 36.19\% & (36.85\%)\\
\code{mceval        } & 94.22\% & 91.74\% & 91.74\% & 91.72\% & (35.32\%)\\
se-obs
\code{fib           } & 108  & 54   & 54   & 42   & (1096)\\
\code{treenode1     } & 34   & 18   & 16   & 12   & (18)\\
\code{treeadd       } & 289  & 145  & 145  & 113  & (511)\\
\code{treeadd2      } & 321  & 153  & 147  & 113  & (687)\\
\code{treeadd3      } & 299  & 137  & 125  & 97   & (540)\\
\code{purity46      } & 20   & 12   & 12   & 9    & (35)\\
\code{purity47      } & 18   & 12   & 12   & 9    & (35)\\
\code{purity52      } & 20   & 14   & 12   & 9    & (35)\\
\code{purity53      } & 20   & 14   & 12   & 9    & (35)\\
\code{purity54      } & 28   & 14   & 12   & 9    & (35)\\
\code{purity65      } & 14   & 6    & 4    & 3    & (1)\\
\code{nqueens       } & 611  & 447  & 447  & 378  & (4764)\\
\code{dderiv        } & 9440 & 8058 & 8058 & 8045 & (6658)\\
\code{destruct      } & 900  & 854  & 854  & 769  & (5468)\\
\code{grid          } & 1118 & 960  & 960  & 730  & (2580)\\
\code{fannkuch      } & 826  & 784  & 784  & 876  & (56790)\\
\code{mceval        } & 573896 & 558010 & 558010 & 555218 & (52915)\\
se-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & \eps  & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 81''  & 85'' \\
escape
\code{fib           } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{treenode1     } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{treeadd       } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd2      } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd3      } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{purity46      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity47      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity52      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity53      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity54      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity65      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{nqueens       } & 6    & 6    (6   ) & 0    (0   ) & \eps \\
\code{dderiv        } & 20   & 10   (14  ) & 19   (19  ) & \eps \\
\code{destruct      } & 11   & 11   (11  ) & 0    (0   ) & \eps \\
\code{grid          } & 5    & 5    (5   ) & 0    (0   ) & \eps \\
\code{fannkuch      } & 16   & 16   (16  ) & 10   (10  ) & \eps \\
\code{mceval        } & 87   & 72   (85  ) & 72   (72  ) & 69'' \\
type-fresh
\code{fib           } & 40.0\%  & \eps  & 40.0\%  & \eps \\
\code{treenode1     } & 52.11\% & \eps  & 59.62\% & \eps \\
\code{treeadd       } & 40.52\% & \eps  & 40.52\% & \eps \\
\code{treeadd2      } & 49.17\% & \eps  & 49.17\% & \eps \\
\code{treeadd3      } & 53.81\% & \eps  & 58.95\% & \eps \\
\code{purity46      } & 51.32\% & \eps  & 51.32\% & \eps \\
\code{purity47      } & 43.77\% & \eps  & 43.77\% & \eps \\
\code{purity52      } & 49.76\% & \eps  & 49.76\% & \eps \\
\code{purity53      } & 50.24\% & \eps  & 50.24\% & \eps \\
\code{purity54      } & 60.98\% & \eps  & 60.98\% & \eps \\
\code{purity65      } & 65.41\% & \eps  & 65.41\% & \eps \\
\code{nqueens       } & 33.66\% & \eps  & 33.66\% & \eps \\
\code{dderiv        } & 18.21\% & \eps  & 18.21\% & \eps \\
\code{destruct      } & 21.65\% & \eps  & 21.65\% & \eps \\
\code{grid          } & 36.52\% & \eps  & 36.52\% & \eps \\
\code{fannkuch      } & 14.96\% & \eps  & 14.96\% & \eps \\
\code{mceval        } & 5.35\%  & 54''  & 5.35\%  & 57'' \\
conc-type-esc-fresh
\code{fib           } & 41.04\% & 40.0\% \\
\code{treenode1     } & 50.73\% & 59.62\%\\
\code{treeadd       } & 32.33\% & 40.52\%\\
\code{treeadd2      } & 44.37\% & 49.17\%\\
\code{treeadd3      } & 54.6\%  & 58.95\%\\
\code{purity46      } & 60.32\% & 51.32\%\\
\code{purity47      } & 52.61\% & 43.77\%\\
\code{purity52      } & 47.18\% & 49.76\%\\
\code{purity53      } & 47.18\% & 50.24\%\\
\code{purity54      } & 55.57\% & 60.98\%\\
\code{purity65      } & 54.78\% & 65.41\%\\
\code{nqueens       } & 30.85\% & 33.66\%\\
\code{dderiv        } & 15.6\%  & 18.21\%\\
\code{destruct      } & 17.08\% & 21.65\%\\
\code{grid          } & 34.63\% & 36.52\%\\
\code{fannkuch      } & 9.2\%   & 14.96\%\\
\code{mceval        } & 3.08\%  & 5.35\% \\
conc-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 3    & 0    & 0    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 3    & 0    & 0    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 9    & 0    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 2    & 1    & 2    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 60   & 2    & 10   & 13   & 46   & 13  \\
type-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 2    & 0    & 1    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 1    & 0    & 2    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 3    & 6    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 1    & 1    & 3    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 13   & 46   & 13   & 13   & 46   & 13  \\
purity-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & 3''   & 1''  \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 353'' & 599''\\
timing
\code{fib           } & \eps  & \eps  & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps  & \eps  & \eps \\
\code{purity46      } & \eps  & \eps  & \eps  & \eps \\
\code{purity47      } & \eps  & \eps  & \eps  & \eps \\
\code{purity52      } & \eps  & \eps  & \eps  & \eps \\
\code{purity53      } & \eps  & \eps  & \eps  & \eps \\
\code{purity54      } & \eps  & \eps  & \eps  & \eps \\
\code{purity65      } & \eps  & \eps  & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps  & \eps  & \eps \\
\code{dderiv        } & 3''   & 3''   & 4''   & 4''  \\
\code{destruct      } & \eps  & \eps  & \eps  & \eps \\
\code{grid          } & \eps  & \eps  & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps  & \eps  & \eps \\
\code{mceval        } & 868'' & 816'' & 776'' & 994''\\


(generate-dot (system-graph (type-mach-0 mceval)) "mceval")


===== 20160214
Fixed escape analysis: reachable -> touches on flow positions
local
benchmarks
\code{fib           } & 42     & 1   & 0   & 0   & 0   & 0   & 0   & 0  \\
\code{treenode1     } & 58     & 2   & 2   & 1   & 1   & 0   & 0   & 0  \\
\code{treeadd       } & 131    & 3   & 2   & 2   & 0   & 0   & 0   & 0  \\
\code{treeadd2      } & 138    & 3   & 2   & 2   & 1   & 1   & 0   & 0  \\
\code{treeadd3      } & 119    & 2   & 2   & 1   & 1   & 1   & 0   & 0  \\
\code{purity46      } & 29     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity47      } & 32     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity52      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity53      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity54      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity65      } & 29     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{nqueens       } & 247    & 6   & 0   & 4   & 0   & 0   & 0   & 0  \\
\code{dderiv        } & 616    & 20  & 1   & 29  & 0   & 2   & 0   & 0  \\
\code{destruct      } & 420    & 11  & 0   & 3   & 4   & 3   & 0   & 0  \\
\code{grid          } & 382    & 5   & 3   & 3   & 0   & 0   & 1   & 2  \\
\code{fannkuch      } & 500    & 16  & 10  & 0   & 0   & 0   & 2   & 7  \\
\code{mceval        } & 1687   & 87  & 0   & 28  & 3   & 1   & 0   & 0  \\
flow-conc
\code{fib           } & 735     & 734     & 100.0\% & \eps \\
\code{treenode1     } & 68      & 67      & 100.0\% & \eps \\
\code{treeadd       } & 696     & 695     & 100.0\% & \eps \\
\code{treeadd2      } & 1028    & 1027    & 100.0\% & \eps \\
\code{treeadd3      } & 847     & 846     & 100.0\% & \eps \\
\code{purity46      } & 53      & 52      & 100.0\% & \eps \\
\code{purity47      } & 53      & 52      & 100.0\% & \eps \\
\code{purity52      } & 65      & 64      & 100.0\% & \eps \\
\code{purity53      } & 65      & 64      & 100.0\% & \eps \\
\code{purity54      } & 77      & 76      & 100.0\% & \eps \\
\code{purity65      } & 20      & 19      & 100.0\% & \eps \\
\code{nqueens       } & 2704    & 2703    & 100.0\% & \eps \\
\code{dderiv        } & 2871    & 2870    & 63.15\% & \eps \\
\code{destruct      } & 2292    & 2291    & 95.95\% & \eps \\
\code{grid          } & 2019    & 2018    & 89.53\% & \eps \\
\code{fannkuch      } & 8990    & 8989    & 99.8\%  & \eps \\
\code{mceval        } & 9223    & 9222    & 83.17\% & \eps \\
flow-type
\code{fib           } & 20      & 30      & 100.0\% & \eps \\
\code{treenode1     } & 28      & 33      & 100.0\% & \eps \\
\code{treeadd       } & 69      & 99      & 100.0\% & \eps \\
\code{treeadd2      } & 81      & 115     & 100.0\% & \eps \\
\code{treeadd3      } & 68      & 102     & 100.0\% & \eps \\
\code{purity46      } & 16      & 18      & 100.0\% & \eps \\
\code{purity47      } & 16      & 18      & 100.0\% & \eps \\
\code{purity52      } & 19      & 21      & 100.0\% & \eps \\
\code{purity53      } & 19      & 21      & 100.0\% & \eps \\
\code{purity54      } & 23      & 30      & 100.0\% & \eps \\
\code{purity65      } & 20      & 27      & 100.0\% & \eps \\
\code{nqueens       } & 135     & 204     & 100.0\% & \eps \\
\code{dderiv        } & 334     & 909     & 90.42\% & \eps \\
\code{destruct      } & 245     & 375     & 100.0\% & \eps \\
\code{grid          } & 237     & 426     & 93.46\% & \eps \\
\code{fannkuch      } & 236     & 371     & 100.0\% & \eps \\
\code{mceval        } & 1265    & 16170   & 97.45\% & 23'' \\
se-a-conc
\code{fib           } & \eps  & 599   & 2914  & 1096 \\
\code{treenode1     } & \eps  & 44    & 96    & 18   \\
\code{treeadd       } & \eps  & 502   & 1561  & 511  \\
\code{treeadd2      } & \eps  & 674   & 2208  & 687  \\
\code{treeadd3      } & \eps  & 554   & 1801  & 540  \\
\code{purity46      } & \eps  & 40    & 105   & 35   \\
\code{purity47      } & \eps  & 40    & 105   & 35   \\
\code{purity52      } & \eps  & 48    & 125   & 35   \\
\code{purity53      } & \eps  & 48    & 125   & 35   \\
\code{purity54      } & \eps  & 44    & 115   & 35   \\
\code{purity65      } & \eps  & 8     & 8     & 1    \\
\code{nqueens       } & \eps  & 2253  & 16703 & 4764 \\
\code{dderiv        } & \eps  & 2432  & 18740 & 6658 \\
\code{destruct      } & \eps  & 1810  & 16076 & 5468 \\
\code{grid          } & \eps  & 1511  & 9018  & 2580 \\
\code{fannkuch      } & \eps  & 8933  & 154119 & 56790\\
\code{mceval        } & 2''   & 8308  & 149836 & 52915\\
se-a-type
\code{fib           } & \eps  & 17    & 16    & 15   \\
\code{treenode1     } & \eps  & 19    & 23    & 14   \\
\code{treeadd       } & \eps  & 56    & 57    & 44   \\
\code{treeadd2      } & \eps  & 56    & 54    & 47   \\
\code{treeadd3      } & \eps  & 48    & 45    & 40   \\
\code{purity46      } & \eps  & 11    & 10    & 7    \\
\code{purity47      } & \eps  & 11    & 10    & 6    \\
\code{purity52      } & \eps  & 13    & 12    & 7    \\
\code{purity53      } & \eps  & 13    & 12    & 7    \\
\code{purity54      } & \eps  & 12    & 11    & 11   \\
\code{purity65      } & \eps  & 8     & 7     & 6    \\
\code{nqueens       } & \eps  & 144   & 357   & 150  \\
\code{dderiv        } & \eps  & 929   & 2663  & 1969 \\
\code{destruct      } & \eps  & 231   & 769   & 253  \\
\code{grid          } & \eps  & 378   & 503   & 416  \\
\code{fannkuch      } & \eps  & 205   & 746   & 260  \\
\code{mceval        } & 14''  & 16342 & 183557 & 170968\\
se-percs
\code{fib           } & 93.75\% & 37.5\%  & 37.5\%  & 37.5\%  & (37.61\%)\\
\code{treenode1     } & 60.87\% & 26.09\% & 17.39\% & 17.39\% & (18.75\%)\\
\code{treeadd       } & 77.19\% & 31.58\% & 31.58\% & 31.58\% & (32.74\%)\\
\code{treeadd2      } & 87.04\% & 33.33\% & 31.48\% & 31.48\% & (31.11\%)\\
\code{treeadd3      } & 88.89\% & 31.11\% & 26.67\% & 26.67\% & (29.98\%)\\
\code{purity46      } & 70.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity47      } & 60.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity52      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity53      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity54      } & 100.0\% & 36.36\% & 27.27\% & 27.27\% & (30.43\%)\\
\code{purity65      } & 85.71\% & 28.57\% & 14.29\% & 14.29\% & (12.5\% )\\
\code{nqueens       } & 42.02\% & 29.41\% & 29.41\% & 29.41\% & (28.52\%)\\
\code{dderiv        } & 73.94\% & 60.83\% & 60.83\% & 60.83\% & (35.53\%)\\
\code{destruct      } & 32.9\%  & 30.04\% & 30.04\% & 30.04\% & (34.01\%)\\
\code{grid          } & 82.7\%  & 67.0\%  & 67.0\%  & 65.21\% & (28.61\%)\\
\code{fannkuch      } & 34.85\% & 32.04\% & 32.04\% & 31.9\%  & (36.85\%)\\
\code{mceval        } & 93.14\% & 92.63\% & 92.63\% & 92.62\% & (35.32\%)\\
se-obs
\code{fib           } & 30   & 12   & 12   & 6    & (1096)\\
\code{treenode1     } & 26   & 10   & 8    & 4    & (18)\\
\code{treeadd       } & 88   & 36   & 36   & 18   & (511)\\
\code{treeadd2      } & 94   & 36   & 34   & 17   & (687)\\
\code{treeadd3      } & 80   & 28   & 24   & 12   & (540)\\
\code{purity46      } & 14   & 6    & 6    & 3    & (35)\\
\code{purity47      } & 12   & 6    & 6    & 3    & (35)\\
\code{purity52      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity53      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity54      } & 22   & 8    & 6    & 3    & (35)\\
\code{purity65      } & 12   & 4    & 2    & 1    & (1)\\
\code{nqueens       } & 252  & 162  & 162  & 105  & (4764)\\
\code{dderiv        } & 2707 & 2273 & 2273 & 1847 & (6658)\\
\code{destruct      } & 367  & 323  & 323  & 231  & (5468)\\
\code{grid          } & 688  & 566  & 566  & 328  & (2580)\\
\code{fannkuch      } & 357  & 315  & 315  & 238  & (56790)\\
\code{mceval        } & 173762 & 172646 & 172646 & 170018 & (52915)\\
se-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & \eps  & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 14''  & 16'' \\
escape
\code{fib           } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{treenode1     } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{treeadd       } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd2      } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd3      } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{purity46      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity47      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity52      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity53      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity54      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity65      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{nqueens       } & 6    & 6    (6   ) & 0    (0   ) & \eps \\
\code{dderiv        } & 20   & 14   (10  ) & 6    (6   ) & \eps \\
\code{destruct      } & 11   & 11   (11  ) & 0    (0   ) & \eps \\
\code{grid          } & 5    & 5    (5   ) & 0    (0   ) & \eps \\
\code{fannkuch      } & 16   & 16   (16  ) & 8    (8   ) & \eps \\
\code{mceval        } & 87   & 85   (72  ) & 2    (2   ) & \eps \\
type-fresh
\code{fib           } & 44.31\% & \eps  & 44.31\% & \eps \\
\code{treenode1     } & 56.23\% & \eps  & 62.35\% & \eps \\
\code{treeadd       } & 44.34\% & \eps  & 44.34\% & \eps \\
\code{treeadd2      } & 51.57\% & \eps  & 51.57\% & \eps \\
\code{treeadd3      } & 57.21\% & \eps  & 67.87\% & \eps \\
\code{purity46      } & 56.31\% & \eps  & 56.31\% & \eps \\
\code{purity47      } & 49.15\% & \eps  & 49.15\% & \eps \\
\code{purity52      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity53      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity54      } & 55.15\% & \eps  & 55.15\% & \eps \\
\code{purity65      } & 56.92\% & \eps  & 56.92\% & \eps \\
\code{nqueens       } & 34.83\% & \eps  & 34.83\% & \eps \\
\code{dderiv        } & 22.15\% & \eps  & 22.15\% & \eps \\
\code{destruct      } & 22.26\% & \eps  & 22.26\% & \eps \\
\code{grid          } & 37.8\%  & \eps  & 37.8\%  & \eps \\
\code{fannkuch      } & 17.87\% & \eps  & 17.87\% & \eps \\
\code{mceval        } & 4.06\%  & 4''   & 4.06\%  & 4''  \\
conc-type-esc-fresh
\code{fib           } & 41.04\% & 44.31\%\\
\code{treenode1     } & 50.73\% & 62.35\%\\
\code{treeadd       } & 32.33\% & 44.34\%\\
\code{treeadd2      } & 44.37\% & 51.57\%\\
\code{treeadd3      } & 54.6\%  & 67.87\%\\
\code{purity46      } & 60.32\% & 56.31\%\\
\code{purity47      } & 52.61\% & 49.15\%\\
\code{purity52      } & 47.18\% & 54.72\%\\
\code{purity53      } & 47.18\% & 54.72\%\\
\code{purity54      } & 55.57\% & 55.15\%\\
\code{purity65      } & 54.78\% & 56.92\%\\
\code{nqueens       } & 30.85\% & 34.83\%\\
\code{dderiv        } & 15.6\%  & 22.15\%\\
\code{destruct      } & 17.08\% & 22.26\%\\
\code{grid          } & 34.63\% & 37.8\% \\
\code{fannkuch      } & 9.2\%   & 17.87\%\\
\code{mceval        } & 3.08\%  & 4.06\% \\
conc-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 3    & 0    & 0    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 3    & 0    & 0    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 9    & 0    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 2    & 1    & 2    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 60   & 2    & 10   & 10   & 49   & 13  \\
type-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 2    & 0    & 1    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 1    & 0    & 2    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 3    & 6    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 1    & 1    & 3    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 10   & 49   & 13   & 10   & 49   & 13  \\
purity-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & \eps  & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 235'' & 252''\\
timing
\code{fib           } & \eps  & \eps  & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps  & \eps  & \eps \\
\code{purity46      } & \eps  & \eps  & \eps  & \eps \\
\code{purity47      } & \eps  & \eps  & \eps  & \eps \\
\code{purity52      } & \eps  & \eps  & \eps  & \eps \\
\code{purity53      } & \eps  & \eps  & \eps  & \eps \\
\code{purity54      } & \eps  & \eps  & \eps  & \eps \\
\code{purity65      } & \eps  & \eps  & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps  & \eps  & \eps \\
\code{dderiv        } & 1''   & 1''   & 1''   & 1''  \\
\code{destruct      } & \eps  & \eps  & \eps  & \eps \\
\code{grid          } & \eps  & \eps  & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps  & \eps  & \eps \\
\code{mceval        } & 298'' & 261'' & 272'' & 302''\\

===== 20160220

(let ((h (lambda (y) y))) (let ((f (lambda () (let ((g (lambda (x) (x x)))) (g h))))) (f)))

==== 20160229 local
benchmarks
\code{fib           } & 42     & 1   & 0   & 0   & 0   & 0   & 0   & 0  \\
\code{treenode1     } & 58     & 2   & 2   & 1   & 1   & 0   & 0   & 0  \\
\code{treeadd       } & 131    & 3   & 2   & 2   & 0   & 0   & 0   & 0  \\
\code{treeadd2      } & 138    & 3   & 2   & 2   & 1   & 1   & 0   & 0  \\
\code{treeadd3      } & 119    & 2   & 2   & 1   & 1   & 1   & 0   & 0  \\
\code{purity46      } & 29     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity47      } & 32     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity52      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity53      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity54      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity65      } & 29     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{nqueens       } & 247    & 6   & 0   & 4   & 0   & 0   & 0   & 0  \\
\code{dderiv        } & 616    & 20  & 1   & 29  & 0   & 2   & 0   & 0  \\
\code{destruct      } & 420    & 11  & 0   & 3   & 4   & 3   & 0   & 0  \\
\code{grid          } & 382    & 5   & 3   & 3   & 0   & 0   & 1   & 2  \\
\code{fannkuch      } & 500    & 16  & 10  & 0   & 0   & 0   & 2   & 7  \\
\code{mceval        } & 1687   & 87  & 0   & 28  & 3   & 1   & 0   & 0  \\
flow-conc
\code{fib           } & 735     & 734     & 100.0\% & \eps \\
\code{treenode1     } & 68      & 67      & 100.0\% & \eps \\
\code{treeadd       } & 696     & 695     & 100.0\% & \eps \\
\code{treeadd2      } & 1028    & 1027    & 100.0\% & \eps \\
\code{treeadd3      } & 847     & 846     & 100.0\% & \eps \\
\code{purity46      } & 53      & 52      & 100.0\% & \eps \\
\code{purity47      } & 53      & 52      & 100.0\% & \eps \\
\code{purity52      } & 65      & 64      & 100.0\% & \eps \\
\code{purity53      } & 65      & 64      & 100.0\% & \eps \\
\code{purity54      } & 77      & 76      & 100.0\% & \eps \\
\code{purity65      } & 20      & 19      & 100.0\% & \eps \\
\code{nqueens       } & 2704    & 2703    & 100.0\% & \eps \\
\code{dderiv        } & 2871    & 2870    & 63.15\% & \eps \\
\code{destruct      } & 2292    & 2291    & 95.95\% & \eps \\
\code{grid          } & 2019    & 2018    & 89.53\% & \eps \\
\code{fannkuch      } & 8990    & 8989    & 99.8\%  & \eps \\
\code{mceval        } & 9223    & 9222    & 83.17\% & \eps \\
flow-type
\code{fib           } & 20      & 30      & 100.0\% & \eps \\
\code{treenode1     } & 28      & 33      & 100.0\% & \eps \\
\code{treeadd       } & 69      & 99      & 100.0\% & \eps \\
\code{treeadd2      } & 81      & 115     & 100.0\% & \eps \\
\code{treeadd3      } & 69      & 108     & 100.0\% & \eps \\
\code{purity46      } & 16      & 18      & 100.0\% & \eps \\
\code{purity47      } & 16      & 18      & 100.0\% & \eps \\
\code{purity52      } & 19      & 21      & 100.0\% & \eps \\
\code{purity53      } & 19      & 21      & 100.0\% & \eps \\
\code{purity54      } & 23      & 30      & 100.0\% & \eps \\
\code{purity65      } & 20      & 27      & 100.0\% & \eps \\
\code{nqueens       } & 135     & 204     & 100.0\% & \eps \\
\code{dderiv        } & 345     & 1290    & 90.42\% & \eps \\
\code{destruct      } & 244     & 370     & 100.0\% & \eps \\
\code{grid          } & 238     & 435     & 93.46\% & \eps \\
\code{fannkuch      } & 236     & 371     & 100.0\% & \eps \\
\code{mceval        } & 1258    & 15665   & 97.45\% & 19'' \\
se-a-conc
\code{fib           } & \eps  & 599   & 2914  & 1096 \\
\code{treenode1     } & \eps  & 44    & 96    & 18   \\
\code{treeadd       } & \eps  & 502   & 1561  & 511  \\
\code{treeadd2      } & \eps  & 674   & 2208  & 687  \\
\code{treeadd3      } & \eps  & 554   & 1801  & 540  \\
\code{purity46      } & \eps  & 40    & 105   & 35   \\
\code{purity47      } & \eps  & 40    & 105   & 35   \\
\code{purity52      } & \eps  & 48    & 125   & 35   \\
\code{purity53      } & \eps  & 48    & 125   & 35   \\
\code{purity54      } & \eps  & 44    & 115   & 35   \\
\code{purity65      } & \eps  & 8     & 8     & 1    \\
\code{nqueens       } & \eps  & 2253  & 16703 & 4764 \\
\code{dderiv        } & \eps  & 2432  & 18740 & 6658 \\
\code{destruct      } & \eps  & 1810  & 16076 & 5468 \\
\code{grid          } & \eps  & 1511  & 9018  & 2580 \\
\code{fannkuch      } & \eps  & 8933  & 154119 & 56790\\
\code{mceval        } & 2''   & 8308  & 149836 & 52915\\
se-a-type
\code{fib           } & \eps  & 17    & 16    & 15   \\
\code{treenode1     } & \eps  & 19    & 23    & 14   \\
\code{treeadd       } & \eps  & 56    & 57    & 44   \\
\code{treeadd2      } & \eps  & 56    & 54    & 47   \\
\code{treeadd3      } & \eps  & 50    & 47    & 42   \\
\code{purity46      } & \eps  & 11    & 10    & 7    \\
\code{purity47      } & \eps  & 11    & 10    & 6    \\
\code{purity52      } & \eps  & 13    & 12    & 7    \\
\code{purity53      } & \eps  & 13    & 12    & 7    \\
\code{purity54      } & \eps  & 12    & 11    & 11   \\
\code{purity65      } & \eps  & 8     & 7     & 6    \\
\code{nqueens       } & \eps  & 139   & 343   & 143  \\
\code{dderiv        } & \eps  & 1067  & 2729  & 2056 \\
\code{destruct      } & \eps  & 230   & 771   & 259  \\
\code{grid          } & \eps  & 380   & 505   & 418  \\
\code{fannkuch      } & \eps  & 205   & 746   & 260  \\
\code{mceval        } & 10''  & 12981 & 139569 & 129373\\
se-percs
\code{fib           } & 93.75\% & 37.5\%  & 37.5\%  & 37.5\%  & (37.61\%)\\
\code{treenode1     } & 60.87\% & 26.09\% & 17.39\% & 17.39\% & (18.75\%)\\
\code{treeadd       } & 77.19\% & 31.58\% & 31.58\% & 31.58\% & (32.74\%)\\
\code{treeadd2      } & 87.04\% & 33.33\% & 31.48\% & 31.48\% & (31.11\%)\\
\code{treeadd3      } & 89.36\% & 31.91\% & 27.66\% & 27.66\% & (29.98\%)\\
\code{purity46      } & 70.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity47      } & 60.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity52      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity53      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity54      } & 100.0\% & 36.36\% & 27.27\% & 27.27\% & (30.43\%)\\
\code{purity65      } & 85.71\% & 28.57\% & 14.29\% & 14.29\% & (12.5\% )\\
\code{nqueens       } & 41.69\% & 28.28\% & 28.28\% & 28.28\% & (28.52\%)\\
\code{dderiv        } & 75.34\% & 61.78\% & 61.78\% & 61.78\% & (35.53\%)\\
\code{destruct      } & 33.59\% & 30.35\% & 30.35\% & 30.35\% & (34.01\%)\\
\code{grid          } & 82.77\% & 67.13\% & 67.13\% & 65.35\% & (28.61\%)\\
\code{fannkuch      } & 34.85\% & 32.04\% & 32.04\% & 31.9\%  & (36.85\%)\\
\code{mceval        } & 92.69\% & 92.0\%  & 92.0\%  & 91.98\% & (35.32\%)\\
se-obs
\code{fib           } & 30   & 12   & 12   & 6    & (1096)\\
\code{treenode1     } & 26   & 10   & 8    & 4    & (18)\\
\code{treeadd       } & 88   & 36   & 36   & 18   & (511)\\
\code{treeadd2      } & 94   & 36   & 34   & 17   & (687)\\
\code{treeadd3      } & 84   & 30   & 26   & 13   & (540)\\
\code{purity46      } & 14   & 6    & 6    & 3    & (35)\\
\code{purity47      } & 12   & 6    & 6    & 3    & (35)\\
\code{purity52      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity53      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity54      } & 22   & 8    & 6    & 3    & (35)\\
\code{purity65      } & 12   & 4    & 2    & 1    & (1)\\
\code{nqueens       } & 241  & 149  & 149  & 97   & (4764)\\
\code{dderiv        } & 2950 & 2480 & 2480 & 1915 & (6658)\\
\code{destruct      } & 375  & 325  & 325  & 234  & (5468)\\
\code{grid          } & 692  & 570  & 570  & 330  & (2580)\\
\code{fannkuch      } & 357  & 315  & 315  & 238  & (56790)\\
\code{mceval        } & 131431 & 130243 & 130243 & 128381 & (52915)\\
se-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & \eps  & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 10''  & 12'' \\
escape
\code{fib           } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{treenode1     } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{treeadd       } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd2      } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd3      } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{purity46      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity47      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity52      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity53      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity54      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity65      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{nqueens       } & 6    & 6    (6   ) & 0    (0   ) & \eps \\
\code{dderiv        } & 20   & 14   (10  ) & 6    (6   ) & \eps \\
\code{destruct      } & 11   & 11   (11  ) & 0    (0   ) & \eps \\
\code{grid          } & 5    & 5    (5   ) & 0    (0   ) & \eps \\
\code{fannkuch      } & 16   & 16   (16  ) & 8    (8   ) & \eps \\
\code{mceval        } & 87   & 85   (72  ) & 2    (2   ) & \eps \\
type-fresh
\code{fib           } & 44.31\% & \eps  & 44.31\% & \eps \\
\code{treenode1     } & 56.23\% & \eps  & 62.35\% & \eps \\
\code{treeadd       } & 43.63\% & \eps  & 43.63\% & \eps \\
\code{treeadd2      } & 51.57\% & \eps  & 51.57\% & \eps \\
\code{treeadd3      } & 46.13\% & \eps  & 53.5\%  & \eps \\
\code{purity46      } & 56.31\% & \eps  & 56.31\% & \eps \\
\code{purity47      } & 49.15\% & \eps  & 49.15\% & \eps \\
\code{purity52      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity53      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity54      } & 55.15\% & \eps  & 55.15\% & \eps \\
\code{purity65      } & 56.92\% & \eps  & 56.92\% & \eps \\
\code{nqueens       } & 34.18\% & \eps  & 34.18\% & \eps \\
\code{dderiv        } & 22.14\% & \eps  & 22.14\% & \eps \\
\code{destruct      } & 22.28\% & \eps  & 22.28\% & \eps \\
\code{grid          } & 37.78\% & \eps  & 37.78\% & \eps \\
\code{fannkuch      } & 17.87\% & \eps  & 17.87\% & \eps \\
\code{mceval        } & 4.06\%  & 3''   & 4.06\%  & 3''  \\
conc-type-esc-fresh
\code{fib           } & 41.04\% & 44.31\%\\
\code{treenode1     } & 50.73\% & 62.35\%\\
\code{treeadd       } & 32.33\% & 43.63\%\\
\code{treeadd2      } & 44.37\% & 51.57\%\\
\code{treeadd3      } & 54.6\%  & 53.5\% \\
\code{purity46      } & 60.32\% & 56.31\%\\
\code{purity47      } & 52.61\% & 49.15\%\\
\code{purity52      } & 47.18\% & 54.72\%\\
\code{purity53      } & 47.18\% & 54.72\%\\
\code{purity54      } & 55.57\% & 55.15\%\\
\code{purity65      } & 54.78\% & 56.92\%\\
\code{nqueens       } & 30.85\% & 34.18\%\\
\code{dderiv        } & 15.6\%  & 22.14\%\\
\code{destruct      } & 17.08\% & 22.28\%\\
\code{grid          } & 34.63\% & 37.78\%\\
\code{fannkuch      } & 9.2\%   & 17.87\%\\
\code{mceval        } & 3.08\%  & 4.06\% \\
conc-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 3    & 0    & 0    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 3    & 0    & 0    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 9    & 0    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 2    & 1    & 2    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 60   & 2    & 10   & 10   & 49   & 13  \\
type-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 2    & 0    & 1    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 1    & 0    & 2    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 3    & 6    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 1    & 1    & 3    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 10   & 49   & 13   & 10   & 49   & 13  \\
purity-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & 1''   & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 128'' & 149''\\
timing
\code{fib           } & \eps  & \eps  & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps  & \eps  & \eps \\
\code{purity46      } & \eps  & \eps  & \eps  & \eps \\
\code{purity47      } & \eps  & \eps  & \eps  & \eps \\
\code{purity52      } & \eps  & \eps  & \eps  & \eps \\
\code{purity53      } & \eps  & \eps  & \eps  & \eps \\
\code{purity54      } & \eps  & \eps  & \eps  & \eps \\
\code{purity65      } & \eps  & \eps  & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps  & \eps  & \eps \\
\code{dderiv        } & 1''   & 1''   & 1''   & 1''  \\
\code{destruct      } & \eps  & \eps  & \eps  & \eps \\
\code{grid          } & \eps  & \eps  & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps  & \eps  & \eps \\
\code{mceval        } & 186'' & 204'' & 202'' & 189''\\

after refactoring to immutable ds (for impl chapter)

benchmarks
\code{fib           } & 42     & 1   & 0   & 0   & 0   & 0   & 0   & 0  \\
\code{treenode1     } & 58     & 2   & 2   & 1   & 1   & 0   & 0   & 0  \\
\code{treeadd       } & 131    & 3   & 2   & 2   & 0   & 0   & 0   & 0  \\
\code{treeadd2      } & 138    & 3   & 2   & 2   & 1   & 1   & 0   & 0  \\
\code{treeadd3      } & 119    & 2   & 2   & 1   & 1   & 1   & 0   & 0  \\
\code{purity46      } & 29     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity47      } & 32     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity52      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity53      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity54      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity65      } & 29     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{nqueens       } & 247    & 6   & 0   & 4   & 0   & 0   & 0   & 0  \\
\code{dderiv        } & 616    & 20  & 1   & 29  & 0   & 2   & 0   & 0  \\
\code{destruct      } & 420    & 11  & 0   & 3   & 4   & 3   & 0   & 0  \\
\code{grid          } & 382    & 5   & 3   & 3   & 0   & 0   & 1   & 2  \\
\code{fannkuch      } & 500    & 16  & 10  & 0   & 0   & 0   & 2   & 7  \\
\code{mceval        } & 1687   & 87  & 0   & 28  & 3   & 1   & 0   & 0  \\
flow-conc
\code{fib           } & 735     & 734     & 100.0\% & \eps \\
\code{treenode1     } & 68      & 67      & 100.0\% & \eps \\
\code{treeadd       } & 696     & 695     & 100.0\% & \eps \\
\code{treeadd2      } & 1028    & 1027    & 100.0\% & \eps \\
\code{treeadd3      } & 847     & 846     & 100.0\% & \eps \\
\code{purity46      } & 53      & 52      & 100.0\% & \eps \\
\code{purity47      } & 53      & 52      & 100.0\% & \eps \\
\code{purity52      } & 65      & 64      & 100.0\% & \eps \\
\code{purity53      } & 65      & 64      & 100.0\% & \eps \\
\code{purity54      } & 77      & 76      & 100.0\% & \eps \\
\code{purity65      } & 20      & 19      & 100.0\% & \eps \\
\code{nqueens       } & 2704    & 2703    & 100.0\% & \eps \\
\code{dderiv        } & 2871    & 2870    & 63.15\% & \eps \\
\code{destruct      } & 2292    & 2291    & 95.95\% & \eps \\
\code{grid          } & 2019    & 2018    & 89.53\% & \eps \\
\code{fannkuch      } & 8990    & 8989    & 99.8\%  & \eps \\
\code{mceval        } & 9223    & 9222    & 83.17\% & \eps \\
flow-type
\code{fib           } & 20      & 30      & 100.0\% & \eps \\
\code{treenode1     } & 28      & 33      & 100.0\% & \eps \\
\code{treeadd       } & 69      & 99      & 100.0\% & \eps \\
\code{treeadd2      } & 81      & 115     & 100.0\% & \eps \\
\code{treeadd3      } & 69      & 108     & 100.0\% & \eps \\
\code{purity46      } & 16      & 18      & 100.0\% & \eps \\
\code{purity47      } & 16      & 18      & 100.0\% & \eps \\
\code{purity52      } & 19      & 21      & 100.0\% & \eps \\
\code{purity53      } & 19      & 21      & 100.0\% & \eps \\
\code{purity54      } & 23      & 30      & 100.0\% & \eps \\
\code{purity65      } & 20      & 27      & 100.0\% & \eps \\
\code{nqueens       } & 135     & 204     & 100.0\% & \eps \\
\code{dderiv        } & 346     & 1308    & 90.42\% & \eps \\
\code{destruct      } & 244     & 370     & 100.0\% & \eps \\
\code{grid          } & 238     & 435     & 93.46\% & \eps \\
\code{fannkuch      } & 236     & 371     & 100.0\% & \eps \\
\code{mceval        } & 1258    & 15665   & 97.45\% & 17'' \\
se-a-conc
\code{fib           } & \eps  & 599   & 2914  & 1096 \\
\code{treenode1     } & \eps  & 44    & 96    & 18   \\
\code{treeadd       } & \eps  & 502   & 1561  & 511  \\
\code{treeadd2      } & \eps  & 674   & 2208  & 687  \\
\code{treeadd3      } & \eps  & 554   & 1801  & 540  \\
\code{purity46      } & \eps  & 40    & 105   & 35   \\
\code{purity47      } & \eps  & 40    & 105   & 35   \\
\code{purity52      } & \eps  & 48    & 125   & 35   \\
\code{purity53      } & \eps  & 48    & 125   & 35   \\
\code{purity54      } & \eps  & 44    & 115   & 35   \\
\code{purity65      } & \eps  & 8     & 8     & 1    \\
\code{nqueens       } & \eps  & 2253  & 16703 & 4764 \\
\code{dderiv        } & \eps  & 2432  & 18740 & 6658 \\
\code{destruct      } & \eps  & 1810  & 16076 & 5468 \\
\code{grid          } & \eps  & 1511  & 9018  & 2580 \\
\code{fannkuch      } & 1''   & 8933  & 154119 & 56790\\
\code{mceval        } & 2''   & 8308  & 149836 & 52915\\
se-a-type
\code{fib           } & \eps  & 17    & 16    & 15   \\
\code{treenode1     } & \eps  & 19    & 23    & 14   \\
\code{treeadd       } & \eps  & 56    & 57    & 44   \\
\code{treeadd2      } & \eps  & 56    & 54    & 47   \\
\code{treeadd3      } & \eps  & 50    & 47    & 42   \\
\code{purity46      } & \eps  & 11    & 10    & 7    \\
\code{purity47      } & \eps  & 11    & 10    & 6    \\
\code{purity52      } & \eps  & 13    & 12    & 7    \\
\code{purity53      } & \eps  & 13    & 12    & 7    \\
\code{purity54      } & \eps  & 12    & 11    & 11   \\
\code{purity65      } & \eps  & 8     & 7     & 6    \\
\code{nqueens       } & \eps  & 139   & 343   & 143  \\
\code{dderiv        } & \eps  & 1095  & 2751  & 2078 \\
\code{destruct      } & \eps  & 230   & 771   & 259  \\
\code{grid          } & \eps  & 380   & 505   & 418  \\
\code{fannkuch      } & \eps  & 205   & 746   & 260  \\
\code{mceval        } & 10''  & 12981 & 139569 & 129373\\
se-percs
\code{fib           } & 93.75\% & 37.5\%  & 37.5\%  & 37.5\%  & (37.61\%)\\
\code{treenode1     } & 60.87\% & 26.09\% & 17.39\% & 17.39\% & (18.75\%)\\
\code{treeadd       } & 77.19\% & 31.58\% & 31.58\% & 31.58\% & (32.74\%)\\
\code{treeadd2      } & 87.04\% & 33.33\% & 31.48\% & 31.48\% & (31.11\%)\\
\code{treeadd3      } & 89.36\% & 31.91\% & 27.66\% & 27.66\% & (29.98\%)\\
\code{purity46      } & 70.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity47      } & 60.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity52      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity53      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity54      } & 100.0\% & 36.36\% & 27.27\% & 27.27\% & (30.43\%)\\
\code{purity65      } & 85.71\% & 28.57\% & 14.29\% & 14.29\% & (12.5\% )\\
\code{nqueens       } & 41.69\% & 28.28\% & 28.28\% & 28.28\% & (28.52\%)\\
\code{dderiv        } & 75.54\% & 62.05\% & 62.05\% & 62.05\% & (35.53\%)\\
\code{destruct      } & 33.59\% & 30.35\% & 30.35\% & 30.35\% & (34.01\%)\\
\code{grid          } & 82.77\% & 67.13\% & 67.13\% & 65.35\% & (28.61\%)\\
\code{fannkuch      } & 34.85\% & 32.04\% & 32.04\% & 31.9\%  & (36.85\%)\\
\code{mceval        } & 92.69\% & 92.0\%  & 92.0\%  & 91.98\% & (35.32\%)\\
se-obs
\code{fib           } & 30   & 12   & 12   & 6    & (1096)\\
\code{treenode1     } & 26   & 10   & 8    & 4    & (18)\\
\code{treeadd       } & 88   & 36   & 36   & 18   & (511)\\
\code{treeadd2      } & 94   & 36   & 34   & 17   & (687)\\
\code{treeadd3      } & 84   & 30   & 26   & 13   & (540)\\
\code{purity46      } & 14   & 6    & 6    & 3    & (35)\\
\code{purity47      } & 12   & 6    & 6    & 3    & (35)\\
\code{purity52      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity53      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity54      } & 22   & 8    & 6    & 3    & (35)\\
\code{purity65      } & 12   & 4    & 2    & 1    & (1)\\
\code{nqueens       } & 241  & 149  & 149  & 97   & (4764)\\
\code{dderiv        } & 3000 & 2528 & 2528 & 1932 & (6658)\\
\code{destruct      } & 375  & 325  & 325  & 234  & (5468)\\
\code{grid          } & 692  & 570  & 570  & 330  & (2580)\\
\code{fannkuch      } & 357  & 315  & 315  & 238  & (56790)\\
\code{mceval        } & 131431 & 130243 & 130243 & 128381 & (52915)\\
se-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & \eps  & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 10''  & 13'' \\
escape
\code{fib           } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{treenode1     } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{treeadd       } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd2      } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd3      } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{purity46      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity47      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity52      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity53      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity54      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity65      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{nqueens       } & 6    & 6    (6   ) & 0    (0   ) & \eps \\
\code{dderiv        } & 20   & 14   (10  ) & 6    (6   ) & \eps \\
\code{destruct      } & 11   & 11   (11  ) & 0    (0   ) & \eps \\
\code{grid          } & 5    & 5    (5   ) & 0    (0   ) & \eps \\
\code{fannkuch      } & 16   & 16   (16  ) & 8    (8   ) & \eps \\
\code{mceval        } & 87   & 85   (72  ) & 2    (2   ) & \eps \\
type-fresh
\code{fib           } & 44.31\% & \eps  & 44.31\% & \eps \\
\code{treenode1     } & 56.23\% & \eps  & 62.35\% & \eps \\
\code{treeadd       } & 43.63\% & \eps  & 43.63\% & \eps \\
\code{treeadd2      } & 51.57\% & \eps  & 51.57\% & \eps \\
\code{treeadd3      } & 46.13\% & \eps  & 53.5\%  & \eps \\
\code{purity46      } & 56.31\% & \eps  & 56.31\% & \eps \\
\code{purity47      } & 49.15\% & \eps  & 49.15\% & \eps \\
\code{purity52      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity53      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity54      } & 55.15\% & \eps  & 55.15\% & \eps \\
\code{purity65      } & 56.92\% & \eps  & 56.92\% & \eps \\
\code{nqueens       } & 34.18\% & \eps  & 34.18\% & \eps \\
\code{dderiv        } & 22.14\% & \eps  & 22.14\% & \eps \\
\code{destruct      } & 22.28\% & \eps  & 22.28\% & \eps \\
\code{grid          } & 37.78\% & \eps  & 37.78\% & \eps \\
\code{fannkuch      } & 17.87\% & \eps  & 17.87\% & \eps \\
\code{mceval        } & 4.06\%  & 3''   & 4.06\%  & 4''  \\
conc-type-esc-fresh
\code{fib           } & 41.04\% & 44.31\%\\
\code{treenode1     } & 50.73\% & 62.35\%\\
\code{treeadd       } & 32.33\% & 43.63\%\\
\code{treeadd2      } & 44.37\% & 51.57\%\\
\code{treeadd3      } & 54.6\%  & 53.5\% \\
\code{purity46      } & 60.32\% & 56.31\%\\
\code{purity47      } & 52.61\% & 49.15\%\\
\code{purity52      } & 47.18\% & 54.72\%\\
\code{purity53      } & 47.18\% & 54.72\%\\
\code{purity54      } & 55.57\% & 55.15\%\\
\code{purity65      } & 54.78\% & 56.92\%\\
\code{nqueens       } & 30.85\% & 34.18\%\\
\code{dderiv        } & 15.6\%  & 22.14\%\\
\code{destruct      } & 17.08\% & 22.28\%\\
\code{grid          } & 34.63\% & 37.78\%\\
\code{fannkuch      } & 9.2\%   & 17.87\%\\
\code{mceval        } & 3.08\%  & 4.06\% \\
conc-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 3    & 0    & 0    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 3    & 0    & 0    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 9    & 0    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 2    & 1    & 2    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 60   & 2    & 10   & 10   & 49   & 13  \\
type-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 2    & 0    & 1    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 1    & 0    & 2    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 3    & 6    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 1    & 1    & 3    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 10   & 49   & 13   & 10   & 49   & 13  \\
purity-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & 1''   & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 132'' & 151''\\
timing
\code{fib           } & \eps  & \eps  & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps  & \eps  & \eps \\
\code{purity46      } & \eps  & \eps  & \eps  & \eps \\
\code{purity47      } & \eps  & \eps  & \eps  & \eps \\
\code{purity52      } & \eps  & \eps  & \eps  & \eps \\
\code{purity53      } & \eps  & \eps  & \eps  & \eps \\
\code{purity54      } & \eps  & \eps  & \eps  & \eps \\
\code{purity65      } & \eps  & \eps  & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps  & \eps  & \eps \\
\code{dderiv        } & 1''   & 1''   & 1''   & 1''  \\
\code{destruct      } & \eps  & \eps  & \eps  & \eps \\
\code{grid          } & \eps  & \eps  & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps  & \eps  & \eps \\
\code{mceval        } & 188'' & 205'' & 211'' & 192''\\

==== 20160316 always join semantics for freshness
benchmarks
\code{fib           } & 42     & 1   & 0   & 0   & 0   & 0   & 0   & 0  \\
\code{treenode1     } & 58     & 2   & 2   & 1   & 1   & 0   & 0   & 0  \\
\code{treeadd       } & 131    & 3   & 2   & 2   & 0   & 0   & 0   & 0  \\
\code{treeadd2      } & 138    & 3   & 2   & 2   & 1   & 1   & 0   & 0  \\
\code{treeadd3      } & 119    & 2   & 2   & 1   & 1   & 1   & 0   & 0  \\
\code{purity46      } & 29     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity47      } & 32     & 1   & 1   & 0   & 0   & 0   & 0   & 0  \\
\code{purity52      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity53      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity54      } & 37     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{purity65      } & 29     & 1   & 0   & 1   & 1   & 0   & 0   & 0  \\
\code{nqueens       } & 247    & 6   & 0   & 4   & 0   & 0   & 0   & 0  \\
\code{dderiv        } & 616    & 20  & 1   & 29  & 0   & 2   & 0   & 0  \\
\code{destruct      } & 420    & 11  & 0   & 3   & 4   & 3   & 0   & 0  \\
\code{grid          } & 382    & 5   & 3   & 3   & 0   & 0   & 1   & 2  \\
\code{fannkuch      } & 500    & 16  & 10  & 0   & 0   & 0   & 2   & 7  \\
\code{mceval        } & 1687   & 87  & 0   & 28  & 3   & 1   & 0   & 0  \\
flow-conc
\code{fib           } & 735     & 734     & 100.0\% & \eps \\
\code{treenode1     } & 68      & 67      & 100.0\% & \eps \\
\code{treeadd       } & 696     & 695     & 100.0\% & \eps \\
\code{treeadd2      } & 1028    & 1027    & 100.0\% & \eps \\
\code{treeadd3      } & 847     & 846     & 100.0\% & \eps \\
\code{purity46      } & 53      & 52      & 100.0\% & \eps \\
\code{purity47      } & 53      & 52      & 100.0\% & \eps \\
\code{purity52      } & 65      & 64      & 100.0\% & \eps \\
\code{purity53      } & 65      & 64      & 100.0\% & \eps \\
\code{purity54      } & 77      & 76      & 100.0\% & \eps \\
\code{purity65      } & 20      & 19      & 100.0\% & \eps \\
\code{nqueens       } & 2704    & 2703    & 100.0\% & \eps \\
\code{dderiv        } & 2871    & 2870    & 63.15\% & \eps \\
\code{destruct      } & 2292    & 2291    & 95.95\% & \eps \\
\code{grid          } & 2019    & 2018    & 89.53\% & \eps \\
\code{fannkuch      } & 8990    & 8989    & 99.8\%  & \eps \\
\code{mceval        } & 9223    & 9222    & 83.17\% & \eps \\
flow-type
\code{fib           } & 20      & 30      & 100.0\% & \eps \\
\code{treenode1     } & 28      & 33      & 100.0\% & \eps \\
\code{treeadd       } & 69      & 99      & 100.0\% & \eps \\
\code{treeadd2      } & 81      & 115     & 100.0\% & \eps \\
\code{treeadd3      } & 69      & 108     & 100.0\% & \eps \\
\code{purity46      } & 16      & 18      & 100.0\% & \eps \\
\code{purity47      } & 16      & 18      & 100.0\% & \eps \\
\code{purity52      } & 19      & 21      & 100.0\% & \eps \\
\code{purity53      } & 19      & 21      & 100.0\% & \eps \\
\code{purity54      } & 23      & 30      & 100.0\% & \eps \\
\code{purity65      } & 20      & 27      & 100.0\% & \eps \\
\code{nqueens       } & 135     & 204     & 100.0\% & \eps \\
\code{dderiv        } & 346     & 1308    & 90.42\% & \eps \\
\code{destruct      } & 244     & 370     & 100.0\% & \eps \\
\code{grid          } & 238     & 435     & 93.46\% & \eps \\
\code{fannkuch      } & 236     & 371     & 100.0\% & \eps \\
\code{mceval        } & 1258    & 15665   & 97.45\% & 16'' \\
se-a-conc
\code{fib           } & \eps  & 599   & 2914  & 1096 \\
\code{treenode1     } & \eps  & 44    & 96    & 18   \\
\code{treeadd       } & \eps  & 502   & 1561  & 511  \\
\code{treeadd2      } & \eps  & 674   & 2208  & 687  \\
\code{treeadd3      } & \eps  & 554   & 1801  & 540  \\
\code{purity46      } & \eps  & 40    & 105   & 35   \\
\code{purity47      } & \eps  & 40    & 105   & 35   \\
\code{purity52      } & \eps  & 48    & 125   & 35   \\
\code{purity53      } & \eps  & 48    & 125   & 35   \\
\code{purity54      } & \eps  & 44    & 115   & 35   \\
\code{purity65      } & \eps  & 8     & 8     & 1    \\
\code{nqueens       } & \eps  & 2253  & 16703 & 4764 \\
\code{dderiv        } & \eps  & 2432  & 18740 & 6658 \\
\code{destruct      } & \eps  & 1810  & 16076 & 5468 \\
\code{grid          } & \eps  & 1511  & 9018  & 2580 \\
\code{fannkuch      } & \eps  & 8933  & 154119 & 56790\\
\code{mceval        } & 2''   & 8308  & 149836 & 52915\\
se-a-type
\code{fib           } & \eps  & 17    & 16    & 15   \\
\code{treenode1     } & \eps  & 19    & 23    & 14   \\
\code{treeadd       } & \eps  & 56    & 57    & 44   \\
\code{treeadd2      } & \eps  & 56    & 54    & 47   \\
\code{treeadd3      } & \eps  & 50    & 47    & 42   \\
\code{purity46      } & \eps  & 11    & 10    & 7    \\
\code{purity47      } & \eps  & 11    & 10    & 6    \\
\code{purity52      } & \eps  & 13    & 12    & 7    \\
\code{purity53      } & \eps  & 13    & 12    & 7    \\
\code{purity54      } & \eps  & 12    & 11    & 11   \\
\code{purity65      } & \eps  & 8     & 7     & 6    \\
\code{nqueens       } & \eps  & 139   & 343   & 143  \\
\code{dderiv        } & \eps  & 1089  & 2745  & 2072 \\
\code{destruct      } & \eps  & 230   & 771   & 259  \\
\code{grid          } & \eps  & 380   & 505   & 418  \\
\code{fannkuch      } & \eps  & 205   & 746   & 260  \\
\code{mceval        } & 10''  & 12981 & 139569 & 129373\\
se-percs
\code{fib           } & 93.75\% & 37.5\%  & 37.5\%  & 37.5\%  & (37.61\%)\\
\code{treenode1     } & 60.87\% & 26.09\% & 17.39\% & 17.39\% & (18.75\%)\\
\code{treeadd       } & 77.19\% & 31.58\% & 31.58\% & 31.58\% & (32.74\%)\\
\code{treeadd2      } & 87.04\% & 33.33\% & 31.48\% & 31.48\% & (31.11\%)\\
\code{treeadd3      } & 89.36\% & 31.91\% & 27.66\% & 27.66\% & (29.98\%)\\
\code{purity46      } & 70.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity47      } & 60.0\%  & 30.0\%  & 30.0\%  & 30.0\%  & (33.33\%)\\
\code{purity52      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity53      } & 58.33\% & 33.33\% & 25.0\%  & 25.0\%  & (28.0\% )\\
\code{purity54      } & 100.0\% & 36.36\% & 27.27\% & 27.27\% & (30.43\%)\\
\code{purity65      } & 85.71\% & 28.57\% & 14.29\% & 14.29\% & (12.5\% )\\
\code{nqueens       } & 41.69\% & 28.28\% & 28.28\% & 28.28\% & (28.52\%)\\
\code{dderiv        } & 75.48\% & 61.97\% & 61.97\% & 61.97\% & (35.53\%)\\
\code{destruct      } & 33.59\% & 30.35\% & 30.35\% & 30.35\% & (34.01\%)\\
\code{grid          } & 82.77\% & 67.13\% & 67.13\% & 65.35\% & (28.61\%)\\
\code{fannkuch      } & 34.85\% & 32.04\% & 32.04\% & 31.9\%  & (36.85\%)\\
\code{mceval        } & 92.69\% & 92.0\%  & 92.0\%  & 91.98\% & (35.32\%)\\
se-obs
\code{fib           } & 30   & 12   & 12   & 6    & (1096)\\
\code{treenode1     } & 26   & 10   & 8    & 4    & (18)\\
\code{treeadd       } & 88   & 36   & 36   & 18   & (511)\\
\code{treeadd2      } & 94   & 36   & 34   & 17   & (687)\\
\code{treeadd3      } & 84   & 30   & 26   & 13   & (540)\\
\code{purity46      } & 14   & 6    & 6    & 3    & (35)\\
\code{purity47      } & 12   & 6    & 6    & 3    & (35)\\
\code{purity52      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity53      } & 14   & 8    & 6    & 3    & (35)\\
\code{purity54      } & 22   & 8    & 6    & 3    & (35)\\
\code{purity65      } & 12   & 4    & 2    & 1    & (1)\\
\code{nqueens       } & 241  & 149  & 149  & 97   & (4764)\\
\code{dderiv        } & 2988 & 2516 & 2516 & 1926 & (6658)\\
\code{destruct      } & 375  & 325  & 325  & 234  & (5468)\\
\code{grid          } & 692  & 570  & 570  & 330  & (2580)\\
\code{fannkuch      } & 357  & 315  & 315  & 238  & (56790)\\
\code{mceval        } & 131431 & 130243 & 130243 & 128381 & (52915)\\
se-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & \eps  & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 10''  & 13'' \\
escape
\code{fib           } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{treenode1     } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{treeadd       } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd2      } & 3    & 3    (3   ) & 0    (0   ) & \eps \\
\code{treeadd3      } & 2    & 2    (2   ) & 0    (0   ) & \eps \\
\code{purity46      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity47      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity52      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity53      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity54      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{purity65      } & 1    & 1    (1   ) & 0    (0   ) & \eps \\
\code{nqueens       } & 6    & 6    (6   ) & 0    (0   ) & \eps \\
\code{dderiv        } & 20   & 14   (10  ) & 6    (6   ) & \eps \\
\code{destruct      } & 11   & 11   (11  ) & 0    (0   ) & \eps \\
\code{grid          } & 5    & 5    (5   ) & 0    (0   ) & \eps \\
\code{fannkuch      } & 16   & 16   (16  ) & 8    (8   ) & \eps \\
\code{mceval        } & 87   & 85   (72  ) & 2    (2   ) & \eps \\
type-fresh
\code{fib           } & 44.31\% & \eps  & 44.31\% & \eps \\
\code{treenode1     } & 56.23\% & \eps  & 62.35\% & \eps \\
\code{treeadd       } & 43.63\% & \eps  & 43.63\% & \eps \\
\code{treeadd2      } & 51.57\% & \eps  & 51.57\% & \eps \\
\code{treeadd3      } & 46.13\% & \eps  & 53.5\%  & \eps \\
\code{purity46      } & 56.31\% & \eps  & 56.31\% & \eps \\
\code{purity47      } & 49.15\% & \eps  & 49.15\% & \eps \\
\code{purity52      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity53      } & 54.72\% & \eps  & 54.72\% & \eps \\
\code{purity54      } & 55.15\% & \eps  & 55.15\% & \eps \\
\code{purity65      } & 56.92\% & \eps  & 56.92\% & \eps \\
\code{nqueens       } & 34.18\% & \eps  & 34.18\% & \eps \\
\code{dderiv        } & 22.14\% & \eps  & 22.14\% & \eps \\
\code{destruct      } & 22.28\% & \eps  & 22.28\% & \eps \\
\code{grid          } & 37.78\% & \eps  & 37.78\% & \eps \\
\code{fannkuch      } & 17.87\% & \eps  & 17.87\% & \eps \\
\code{mceval        } & 4.06\%  & 3''   & 4.06\%  & 3''  \\
conc-type-esc-fresh
\code{fib           } & 41.04\% & 44.31\%\\
\code{treenode1     } & 49.94\% & 62.35\%\\
\code{treeadd       } & 30.67\% & 43.63\%\\
\code{treeadd2      } & 43.42\% & 51.57\%\\
\code{treeadd3      } & 54.14\% & 53.5\% \\
\code{purity46      } & 48.1\%  & 56.31\%\\
\code{purity47      } & 41.0\%  & 49.15\%\\
\code{purity52      } & 47.18\% & 54.72\%\\
\code{purity53      } & 47.18\% & 54.72\%\\
\code{purity54      } & 55.57\% & 55.15\%\\
\code{purity65      } & 54.78\% & 56.92\%\\
\code{nqueens       } & 30.85\% & 34.18\%\\
\code{dderiv        } & 15.36\% & 22.14\%\\
\code{destruct      } & 17.08\% & 22.28\%\\
\code{grid          } & 34.63\% & 37.78\%\\
\code{fannkuch      } & 8.81\%  & 17.87\%\\
\code{mceval        } & 3.08\%  & 4.06\% \\
conc-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 3    & 0    & 0    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 3    & 0    & 0    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 2    & 0    & 0    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 9    & 0    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 2    & 1    & 2    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 60   & 2    & 10   & 10   & 49   & 13  \\
type-a-type-msfa-purity-class
\code{fib           } & 1    & 1    & 0    & 0    & 1    & 0    & 0   \\
\code{treenode1     } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{treeadd       } & 3    & 2    & 0    & 1    & 3    & 0    & 0   \\
\code{treeadd2      } & 3    & 1    & 0    & 2    & 2    & 0    & 1   \\
\code{treeadd3      } & 2    & 0    & 0    & 2    & 2    & 0    & 0   \\
\code{purity46      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity47      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity52      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity53      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity54      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{purity65      } & 1    & 0    & 0    & 1    & 1    & 0    & 0   \\
\code{nqueens       } & 6    & 6    & 0    & 0    & 6    & 0    & 0   \\
\code{dderiv        } & 10   & 3    & 6    & 1    & 3    & 6    & 1   \\
\code{destruct      } & 11   & 3    & 1    & 7    & 3    & 1    & 7   \\
\code{grid          } & 5    & 1    & 1    & 3    & 2    & 1    & 2   \\
\code{fannkuch      } & 16   & 5    & 2    & 9    & 5    & 2    & 9   \\
\code{mceval        } & 72   & 10   & 49   & 13   & 10   & 49   & 13  \\
purity-timing
\code{fib           } & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps \\
\code{purity46      } & \eps  & \eps \\
\code{purity47      } & \eps  & \eps \\
\code{purity52      } & \eps  & \eps \\
\code{purity53      } & \eps  & \eps \\
\code{purity54      } & \eps  & \eps \\
\code{purity65      } & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps \\
\code{dderiv        } & 1''   & \eps \\
\code{destruct      } & \eps  & \eps \\
\code{grid          } & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps \\
\code{mceval        } & 127'' & 154''\\
timing
\code{fib           } & \eps  & \eps  & \eps  & \eps \\
\code{treenode1     } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd       } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd2      } & \eps  & \eps  & \eps  & \eps \\
\code{treeadd3      } & \eps  & \eps  & \eps  & \eps \\
\code{purity46      } & \eps  & \eps  & \eps  & \eps \\
\code{purity47      } & \eps  & \eps  & \eps  & \eps \\
\code{purity52      } & \eps  & \eps  & \eps  & \eps \\
\code{purity53      } & \eps  & \eps  & \eps  & \eps \\
\code{purity54      } & \eps  & \eps  & \eps  & \eps \\
\code{purity65      } & \eps  & \eps  & \eps  & \eps \\
\code{nqueens       } & \eps  & \eps  & \eps  & \eps \\
\code{dderiv        } & 1''   & 1''   & 1''   & 1''  \\
\code{destruct      } & \eps  & \eps  & \eps  & \eps \\
\code{grid          } & \eps  & \eps  & \eps  & \eps \\
\code{fannkuch      } & \eps  & \eps  & \eps  & \eps \\
\code{mceval        } & 190'' & 202'' & 207'' & 193''\\


